!function(){"use strict";var e="",t=e+"4ca60d6bc216cdde68af.png";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}var i=function(){return e=function e(t,n,r,o,i,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._id=t._id,this._likes=t.likes,this._owner=t.owner,this._userId=n,this._handleCardClick=r,this._handleCardDelete=o,this._handleCardLike=i,this._handleCardDislike=u,this._card=this._getTemplate()},(n=[{key:"_getTemplate",value:function(){return document.querySelector("#gallery-template").content.querySelector(".gallery__item").cloneNode(!0)}},{key:"_setProperties",value:function(){this._btnDelete=this._card.querySelector(".gallery__trash"),this._btnDelete.src=t,this._owner._id!==this._userId&&this._btnDelete.remove(),this._galleryImage=this._card.querySelector(".gallery__image"),this._galleryCont=this._card.querySelector(".gallery__content-text"),this._galleryTitle=this._galleryCont.querySelector(".gallery__title-item"),this._btnLike=this._galleryCont.querySelector(".gallery__like"),this.likesCounter=this._galleryCont.querySelector(".gallery__like-number"),this._galleryImage.src=this._link,this._galleryImage.alt=this._name,this._galleryTitle.textContent=this._name,this.likesCounter.textContent=this._likes.length}},{key:"removeCard",value:function(){this._card.remove()}},{key:"loadLikes",value:function(e){this._likes=e,this.likesCounter.textContent=e.length}},{key:"validateLike",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"_setEventListeners",value:function(){var e=this;this._btnLike.addEventListener("click",(function(){e._btnLike.classList.toggle("gallery__like_active"),e.validateLike()?e._handleCardDislike(e._id):e._handleCardLike(e._id)})),this.validateLike()?this._btnLike.classList.add("gallery__like_active"):this._btnLike.classList.remove("gallery__like_active"),this._btnDelete.addEventListener("click",(function(){e._handleCardDelete(e._id)})),this._galleryImage.addEventListener("click",(function(){e._handleCardClick(e._name,e._link)}))}},{key:"generateCard",value:function(){return this._setProperties(),this._setEventListeners(),this._card}}])&&r(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}();function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}var l=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._settings=t,this._formElement=n},(t=[{key:"_showInputError",value:function(e,t,n){var r=n.querySelector(".".concat(e.id,"-error"));e.classList.add(this._settings.inputErrorClass),r.textContent=t,r.classList.add(this._settings.inputErrorActive)}},{key:"_hideInputError",value:function(e,t){var n=t.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._settings.inputErrorClass),n.classList.remove(this._settings.inputErrorActive),n.textContent=""}},{key:"_checkInputValidity",value:function(e,t){e.validity.valid?this._hideInputError(e,t):this._showInputError(e,e.validationMessage,t)}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid||0===e.value.trim().length}))}},{key:"_toggleButtonState",value:function(e,t){this._hasInvalidInput(e)?t.classList.add(this._settings.inactiveButtonClass):t.classList.remove(this._settings.inactiveButtonClass)}},{key:"_setEventListeners",value:function(){var e=this,t=Array.from(this._formElement.querySelectorAll(this._settings.inputSelector)),n=this._formElement.querySelector(this._settings.submitButtonSelector);this._toggleButtonState(t,n),t.forEach((function(r){e._addEventInputAndValidate(r,t,n,e._formElement)}))}},{key:"_addEventInputAndValidate",value:function(e,t,n,r){var o=this;e.addEventListener("input",(function(){o._checkInputValidity(e,r),o._toggleButtonState(t,n)}))}},{key:"_getSubmit",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()}))}},{key:"enableValidation",value:function(){this._getSubmit(),this._setEventListeners()}}])&&c(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),s=document.querySelector(".profile").querySelector(".profile__container"),f=s.querySelector(".profile__data"),p=document.querySelector(".main").querySelector(".gallery"),y=document.querySelector(".popup-show").querySelector(".popup-show__container"),h=y.querySelector(".popup-show__close"),d=(y.querySelector(".popup-show__add"),y.querySelector(".popup-show__title-create"),document.querySelector("#close-delete")),m=f.querySelector(".profile__edit-data"),v=document.querySelector("#close-profile"),b=document.querySelector(".profile__name"),_=document.querySelector(".profile__description"),g=(document.querySelector(".profile__face-image"),s.querySelector(".profile__add-picture")),S=document.querySelector("#input-name"),k=document.querySelector("#input-desc"),w=document.querySelector("#close-card"),E=document.querySelector("#image-content"),P=document.querySelector("#close-change");function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}function L(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==j(t)?t:t+""}var O=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)},(t=[{key:"open",value:function(){this._popupElement.classList.add("popup_generate"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_generate"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"handleClickOutside",value:function(e){e.target===this._popupElement&&this.close()}},{key:"setEventListeners",value:function(){var e=this;document.addEventListener("keydown",this._handleEscClose),this._popupElement.addEventListener("click",(function(t){e.handleClickOutside(t)}))}}])&&C(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I(r.key),r)}}function I(e){var t=function(e,t){if("object"!=q(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==q(t)?t:t+""}function B(e,t,n){return t=R(t),function(e,t){if(t&&("object"==q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,x()?Reflect.construct(t,n||[],R(e).constructor):t.apply(e,n))}function x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(x=function(){return!!e})()}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},D.apply(null,arguments)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function U(e,t){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U(e,t)}var A=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=B(this,t,[e]))._formElement=r._popupElement.querySelector(".popup__form"),r._inputList=r._formElement.querySelectorAll(".popup__input"),r._handleFormSubmit=n,r._btnList=r._formElement.querySelector(".popup__button"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(t,e),n=t,(r=[{key:"close",value:function(){D(R(t.prototype),"close",this).call(this),this._formElement.reset()}},{key:"getInputValues",value:function(){var e=this;return this.formValues={},this._inputList.forEach((function(t){e.formValues[t.name]=t.value})),this.formValues}},{key:"originalButton",value:function(){this._btnList.textContent="Guardar"}},{key:"_changesButton",value:function(){var e=this;return new Promise((function(t){setTimeout((function(){t()}),1e3),e._btnList.textContent="Guardando..."}))}},{key:"setEventListeners",value:function(){var e=this;D(R(t.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e.getInputValues()),e._changesButton().then((function(){e.close()}))}))}}])&&T(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(O);function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,H(r.key),r)}}function H(e){var t=function(e,t){if("object"!=V(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==V(t)?t:t+""}var G=function(){return e=function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedItems=r,this._renderer=o,this._container=document.querySelector(n)},(t=[{key:"addItem",value:function(e){this._container.append(e)}},{key:"clear",value:function(){this._container.innerHTML=""}},{key:"renderer",value:function(){var e=this;this.clear(),this._renderedItems.forEach((function(t){e._renderer(t)}))}}])&&F(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,M(r.key),r)}}function M(e){var t=function(e,t){if("object"!=N(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==N(t)?t:t+""}var z=function(){return e=function e(t){var n=t.nameSelector,r=t.jobSelector,o=t.avatarSelector,i=t.id;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._job=document.querySelector(r),this.avatar=document.querySelector(o),this._userId=i},(t=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,job:this._job.textContent,avatar:this.avatar.src,_id:this._userId}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._job.textContent=e.about,this.avatar.src=e.avatar,this._userId=e._id}}])&&J(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W(r.key),r)}}function W(e){var t=function(e,t){if("object"!=K(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=K(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==K(t)?t:t+""}function X(e,t,n){return t=$(t),function(e,t){if(t&&("object"==K(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Y()?Reflect.construct(t,n||[],$(e).constructor):t.apply(e,n))}function Y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Y=function(){return!!e})()}function Z(){return Z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=$(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Z.apply(null,arguments)}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}function ee(e,t){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ee(e,t)}var te=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=X(this,t,[n]))._name=e.name,r._link=e.link,r._card=r._popupElement.querySelector(".popup-show__container"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ee(e,t)}(t,e),n=t,(r=[{key:"_setProperties",value:function(){this._image=this._card.querySelector(".popup-show__add"),this._title=this._card.querySelector(".popup-show__title-create"),this._image.src=this._link,this._image.alt=this._name,this._title.textContent=this._name}},{key:"open",value:function(){Z($(t.prototype),"open",this).call(this),Z($(t.prototype),"setEventListeners",this).call(this),this._setProperties()}}])&&Q(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(O);function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oe(r.key),r)}}function oe(e){var t=function(e,t){if("object"!=ne(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ne(t)?t:t+""}var ie=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=t.baseUrl,this.headers=t.headers},(t=[{key:"handlePromise",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this.baseUrl,"/cards"),{method:"GET",headers:this.headers}).then((function(t){return e.handlePromise(t)})).catch((function(e){console.log(e)}))}},{key:"getProfileInfo",value:function(){var e=this;return fetch("".concat(this.baseUrl,"/users/me"),{method:"GET",headers:this.headers}).then((function(t){return e.handlePromise(t)})).catch((function(e){console.log(e)}))}},{key:"editProfile",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/users/me"),{method:"PATCH",headers:this.headers,body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){return t.handlePromise(e)})).catch((function(e){console.log(e)}))}},{key:"addCards",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards"),{method:"POST",headers:this.headers,body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return t.handlePromise(e)})).catch((function(e){console.log(e)}))}},{key:"removeCards",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this.headers}).then((function(e){return t.handlePromise(e)})).catch((function(e){console.log(e)}))}},{key:"addLike",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this.headers}).then((function(e){return t.handlePromise(e)})).catch((function(e){console.log(e)}))}},{key:"deleteLike",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this.headers}).then((function(e){return t.handlePromise(e)})).catch((function(e){console.log(e)}))}},{key:"editProfileAvatar",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:e.url})}).then((function(e){return t.handlePromise(e)})).catch((function(e){console.log(e)}))}}])&&re(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),ue=e+"aa1b5592fed861ab3510.png",ce=e+"609b6840c8b2e02c8ca9.png",ae=e+"9036a094c3c410e6a834.png",le=e+"b055c3f7a4de2a452e9d.png",se=e+"93c771f5f8582261951d.png";function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ye(r.key),r)}}function ye(e){var t=function(e,t){if("object"!=fe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fe(t)?t:t+""}function he(e,t,n){return t=ve(t),function(e,t){if(t&&("object"==fe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,de()?Reflect.construct(t,n||[],ve(e).constructor):t.apply(e,n))}function de(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(de=function(){return!!e})()}function me(){return me="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=ve(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},me.apply(null,arguments)}function ve(e){return ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ve(e)}function be(e,t){return be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},be(e,t)}var _e=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=he(this,t,[e]))._formElement=r._popupElement.querySelector(".popup__form"),r._handleFormSubmit=n,r._btnList=r._formElement.querySelector(".popup__button"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&be(e,t)}(t,e),n=t,(r=[{key:"open",value:function(e){me(ve(t.prototype),"open",this).call(this),this._id=e}},{key:"setHandleSubmit",value:function(e){this._handleFormSubmit=e}},{key:"originalButton",value:function(){this._btnList.textContent="Si"}},{key:"_changesButton",value:function(){var e=this;return new Promise((function(t){setTimeout((function(){t()}),1e3),e._btnList.textContent="Borrando..."}))}},{key:"setEventListeners",value:function(){var e=this;me(ve(t.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._id),e._changesButton().then((function(){e.close()}))}))}}])&&pe(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(O);document.querySelector("#image-logo").src=ue,document.querySelector("#image-pencil").src=ce,document.querySelector("#image-add").src=ae,document.querySelector("#close-profile").src=le,document.querySelector("#close-card").src=le,document.querySelector("#close-show").src=le,document.querySelector("#close-delete").src=le,document.querySelector("#close-change").src=le,document.querySelector("#image-edit-pencil").src=se;var ge=new ie({baseUrl:"https://around.nomoreparties.co/v1/web_es_11",headers:{authorization:"f2d5b74c-c626-4038-b275-b200d36582b5","Content-Type":"application/json"}}),Se=new z({nameSelector:".profile__name",jobSelector:".profile__description",avatarSelector:".profile__face-image",id:""});function ke(e,t){var n=new te({name:e,link:t},"#popup-show_id");n.open(),h.addEventListener("click",(function(){n.close()}))}function we(e){var t=new i(e,Se._userId,ke,(function(){var n=new _e("#popup-delete",(function(){ge.removeCards(e._id).then((function(e){return e}))}));n.setEventListeners(),n.open(e._id),n.originalButton(),n.setHandleSubmit((function(e){ge.removeCards(e).then((function(e){t.removeCard()}))})),d.addEventListener("click",(function(){n.close()}))}),(function(e){ge.addLike(e).then((function(e){t.loadLikes(e.likes)}))}),(function(e){ge.deleteLike(e).then((function(e){t.loadLikes(e.likes)}))}));return t}ge.getProfileInfo().then((function(e){Se.setUserInfo(e)})),ge.getInitialCards().then((function(e){var t=new G({items:e,renderer:function(e){var n=we(e).generateCard();t.addItem(n)}},".gallery");t.renderer()}));var Ee=new A("#popup-change",(function(e){ge.editProfileAvatar(e).then((function(e){Se.avatar.src=e.avatar}))}));Ee.setEventListeners(),E.addEventListener("click",(function(){Ee.open(),Ee.originalButton()})),P.addEventListener("click",(function(){Ee.close()}));var Pe=new A("#popup-profile",(function(e){ge.editProfile(e).then((function(e){b.textContent=e.name,_.textContent=e.about}))}));Pe.setEventListeners(),m.addEventListener("click",(function(){Pe.open(),Pe.originalButton();var e=Se.getUserInfo();S.value=e.name,k.value=e.job})),v.addEventListener("click",(function(){Pe.close()}));var je=new A("#popup-picture",(function(e){ge.addCards({name:e.title,link:e.link}).then((function(e){console.log("new card result ",e);var t=we(e);p.prepend(t.generateCard())}))}));je.setEventListeners(),g.addEventListener("click",(function(){je.open(),je.originalButton()})),w.addEventListener("click",(function(){je.close()})),Array.from(document.querySelectorAll(".popup__form")).forEach((function(e){new l({formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_inactive",inputErrorClass:"popup__input_type_error",inputErrorActive:"popup__input-error_active",errorClass:".popup__error"},e).enableValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FDckR4QixHQUFJK0IsU0FBUyxDQUFFdk4sS0FBTWdOLEVBQU9RLE1BQU90TixLQUFNOE0sRUFBTzlNLE9BQVEySCxNQUFLLFNBQUNtRSxHQUM1RDVCLFFBQVFDLElBQUksbUJBQW9CMkIsR0FDaEMsSUFBTXlCLEVBQVU1QixHQUFxQkcsR0FDckNoSCxFQUFlMEksUUFBUUQsRUFBUVosZUFDakMsR0FDRixJQUdBUyxHQUFVckIsb0JBR1Z6RyxFQUFNbkQsaUJBQWlCLFNBQVMsV0FDOUJpTCxHQUFVMUIsT0FDVjBCLEdBQVVwQixnQkFDWixJQUdBdkcsRUFBZXRELGlCQUFpQixTQUFTLFdBQ3ZDaUwsR0FBVWxILE9BQ1osSUFLaUJsQyxNQUFNQyxLQUFLbEQsU0FBU21ELGlCQUFpQixpQkFFN0NJLFNBQVEsU0FBQzFCLEdBRUUsSUFBSUYsRUFDcEIsQ0FDRStLLGFBQWMsZUFDZHRKLGNBQWUsZ0JBQ2ZDLHFCQUFzQixpQkFDdEJMLG9CQUFxQix5QkFDckJYLGdCQUFpQiwwQkFDakJDLGlCQUFrQiw0QkFDbEJxSyxXQUFZLGlCQUVkOUssR0FFUStLLGtCQUNaLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kL3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy91dGlscy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvc2NyaXB0cy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjsiLCJpbXBvcnQgaW1hZ2VUcmFzaCBmcm9tIFwiLi4vaW1hZ2VzL3RyYXNoLnBuZ1wiO1xuXG5leHBvcnQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGRhdGEsXG4gICAgdXNlcklkLFxuICAgIGhhbmRsZUNhcmRDbGljayxcbiAgICBoYW5kbGVDYXJkRGVsZXRlLFxuICAgIGhhbmRsZUNhcmRMaWtlLFxuICAgIGhhbmRsZUNhcmREaXNMaWtlXG4gICkge1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcbiAgICAvKnRoaXMuX2NhcmRJZCA9IGRhdGEuX2lkOyovXG4gICAgdGhpcy5fb3duZXIgPSBkYXRhLm93bmVyO1xuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlQ2FyZERlbGV0ZSA9IGhhbmRsZUNhcmREZWxldGU7XG4gICAgdGhpcy5faGFuZGxlQ2FyZExpa2UgPSBoYW5kbGVDYXJkTGlrZTtcbiAgICB0aGlzLl9oYW5kbGVDYXJkRGlzbGlrZSA9IGhhbmRsZUNhcmREaXNMaWtlO1xuICAgIHRoaXMuX2NhcmQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICB9XG5cbiAgLy9PYnRpZW5lIGxhIHBsYW50aWxsYSBkZSBsYSB0YXJqZXRhXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICByZXR1cm4gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiI2dhbGxlcnktdGVtcGxhdGVcIilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9faXRlbVwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcbiAgfVxuXG4gIC8vRXN0YWJsZWNlIGxhcyBwcm9waWVkYWRlcyBkZSBsYSB0YXJqZXRhXG4gIF9zZXRQcm9wZXJ0aWVzKCkge1xuICAgIHRoaXMuX2J0bkRlbGV0ZSA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X190cmFzaFwiKTtcbiAgICB0aGlzLl9idG5EZWxldGUuc3JjID0gaW1hZ2VUcmFzaDtcbiAgICBpZiAodGhpcy5fb3duZXIuX2lkICE9PSB0aGlzLl91c2VySWQpIHtcbiAgICAgIHRoaXMuX2J0bkRlbGV0ZS5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICB0aGlzLl9nYWxsZXJ5SW1hZ2UgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9faW1hZ2VcIik7XG4gICAgdGhpcy5fZ2FsbGVyeUNvbnQgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fY29udGVudC10ZXh0XCIpO1xuICAgIHRoaXMuX2dhbGxlcnlUaXRsZSA9IHRoaXMuX2dhbGxlcnlDb250LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5nYWxsZXJ5X190aXRsZS1pdGVtXCJcbiAgICApO1xuICAgIHRoaXMuX2J0bkxpa2UgPSB0aGlzLl9nYWxsZXJ5Q29udC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX2xpa2VcIik7XG4gICAgdGhpcy5saWtlc0NvdW50ZXIgPSB0aGlzLl9nYWxsZXJ5Q29udC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIuZ2FsbGVyeV9fbGlrZS1udW1iZXJcIlxuICAgICk7XG5cbiAgICB0aGlzLl9nYWxsZXJ5SW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9nYWxsZXJ5SW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9nYWxsZXJ5VGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMubGlrZXNDb3VudGVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xuICB9XG5cbiAgcmVtb3ZlQ2FyZCgpIHtcbiAgICB0aGlzLl9jYXJkLnJlbW92ZSgpO1xuICB9XG5cbiAgbG9hZExpa2VzKGxpa2VzKSB7XG4gICAgdGhpcy5fbGlrZXMgPSBsaWtlcztcbiAgICB0aGlzLmxpa2VzQ291bnRlci50ZXh0Q29udGVudCA9IGxpa2VzLmxlbmd0aDtcbiAgfVxuXG4gIHZhbGlkYXRlTGlrZSgpIHtcbiAgICAvL2luZGljYSBzaSBlbCB1c3VhcmlvIGhhIGRhZG8gbGlrZSBvIG5vIGEgdW5hIHRhcmpldGFcbiAgICBjb25zdCBoYXNVc2VyTGlrZWQgPSB0aGlzLl9saWtlcy5zb21lKChsaWtlKSA9PiBsaWtlLl9pZCA9PT0gdGhpcy5fdXNlcklkKTtcbiAgICByZXR1cm4gaGFzVXNlckxpa2VkO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIC8vRXZlbnRvcyBnZW5lcmFsZXMgcGFyYSBkYXIgbGlrZSwgZWxpbWluYXIgeSBhYnJpciBwb3B1cFxuICAgIHRoaXMuX2J0bkxpa2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIC8vdmFsaWRhIHNpIGVsIHVzdWFyaW8gaGEgZGFkbyBsaWtlIG8gbm9cbiAgICAgIHRoaXMuX2J0bkxpa2UuY2xhc3NMaXN0LnRvZ2dsZShcImdhbGxlcnlfX2xpa2VfYWN0aXZlXCIpO1xuXG4gICAgICAvL2zDs2dpY2EgcGFyYSBkYXIgbGlrZSBvIHF1aXRhciBsaWtlXG4gICAgICBjb25zdCBoYXNVc2VyTGlrZWQgPSB0aGlzLnZhbGlkYXRlTGlrZSgpO1xuICAgICAgaWYgKGhhc1VzZXJMaWtlZCkge1xuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkRGlzbGlrZSh0aGlzLl9pZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZSh0aGlzLl9pZCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvL3ZhbGlkYSBzaSBlbCB1c3VhcmlvIGhhIGRhZG8gbGlrZSBvIG5vIHkgY2FtYmlhIGVsIGNvbG9yIGRlbCBib3TDs25cbiAgICBjb25zdCBoYXNVc2VyTGlrZWQgPSB0aGlzLnZhbGlkYXRlTGlrZSgpO1xuICAgIGlmIChoYXNVc2VyTGlrZWQpIHtcbiAgICAgIHRoaXMuX2J0bkxpa2UuY2xhc3NMaXN0LmFkZChcImdhbGxlcnlfX2xpa2VfYWN0aXZlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9idG5MaWtlLmNsYXNzTGlzdC5yZW1vdmUoXCJnYWxsZXJ5X19saWtlX2FjdGl2ZVwiKTtcbiAgICB9XG5cbiAgICAvL2lmICh0aGlzLm93bmVyLl9pZCAhPT0gdGhpcy51c2VySWQpIHtcbiAgICAvL0V2ZW50byBwYXJhIGVsaW1pbmFyIGNhcmRcbiAgICB0aGlzLl9idG5EZWxldGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmREZWxldGUodGhpcy5faWQpO1xuICAgIH0pO1xuICAgIC8vfVxuXG4gICAgLy9FdmVudG8gcGFyYSBhYnJpciBpbWFnZW4gZW4gdmVudGFuYSBlbWVyZ2VudGVcbiAgICB0aGlzLl9nYWxsZXJ5SW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vR2VuZXJhIGxhIHRhcmpldGFcbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIHRoaXMuX3NldFByb3BlcnRpZXMoKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NhcmQ7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3Ioc2V0dGluZ3MsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBWYWxpZGFjacOzbiBkZSBsb3MgY2FtcG9zIGRlbCBmb3JtdWxhcmlvLCBtdWVzdHJhIG8gcXVpdGEgZXJyb3Jlc1xuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UsIGZvcm1FbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JBY3RpdmUpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZm9ybUVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5pbnB1dEVycm9yQWN0aXZlKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBWZXJpZmljYSBzaSBlbCBpbnB1dCBlcyB2w6FsaWRvXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50LCBmb3JtRWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihcbiAgICAgICAgaW5wdXRFbGVtZW50LFxuICAgICAgICBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UsXG4gICAgICAgIGZvcm1FbGVtZW50XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGZvcm1FbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFZlcmlmaWNhIHNpIGhheSBjYW1wb3MgaW52w6FsaWRvc1xuICBfaGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkge1xuICAgIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkIHx8IGlucHV0RWxlbWVudC52YWx1ZS50cmltKCkubGVuZ3RoID09PSAwXG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBDYW1iaWEgZWwgZXN0YWRvIGRlbCBib3TDs25cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSkge1xuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgfVxuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBPYnRpZW5lIGxvcyBpbnB1dHMgcG9yIGZvcm11bGFyaW8geSBsZXMgYcOxYWRlIGV2ZW50b3NcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oXG4gICAgICB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX3NldHRpbmdzLmlucHV0U2VsZWN0b3IpXG4gICAgKTtcblxuICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5fc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgICApO1xuXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KTtcblxuICAgIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2FkZEV2ZW50SW5wdXRBbmRWYWxpZGF0ZShcbiAgICAgICAgaW5wdXRFbGVtZW50LFxuICAgICAgICBpbnB1dExpc3QsXG4gICAgICAgIGJ1dHRvbkVsZW1lbnQsXG4gICAgICAgIHRoaXMuX2Zvcm1FbGVtZW50XG4gICAgICApO1xuICAgIH0pO1xuICB9XG5cbiAgX2FkZEV2ZW50SW5wdXRBbmRWYWxpZGF0ZShcbiAgICBpbnB1dEVsZW1lbnQsXG4gICAgaW5wdXRMaXN0LFxuICAgIGJ1dHRvbkVsZW1lbnQsXG4gICAgZm9ybUVsZW1lbnRcbiAgKSB7XG4gICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50LCBmb3JtRWxlbWVudCk7XG4gICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpO1xuICAgIH0pO1xuICB9XG5cbiAgX2dldFN1Ym1pdCgpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGZ1bmN0aW9uIChldnQpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBJdGVyYSB0b2RvcyBsb3MgZm9ybXVsYXJpb3MgeSBsZXMgYcOxYWRlIGxvcyBldmVudG9zXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZ2V0U3VibWl0KCk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gZWxlbWVudG9zIG9idGVuaWRvcyBkZWwgZG9tKi9cbmNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZVwiKTtcbmV4cG9ydCBjb25zdCBjb250YWluZXJQcm9maWxlID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fY29udGFpbmVyXCIpO1xuZXhwb3J0IGNvbnN0IGRhdGFQcm9maWxlID0gY29udGFpbmVyUHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2RhdGFcIik7XG5cbmNvbnN0IG1haW5Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW5cIik7XG5leHBvcnQgY29uc3QgZ2FsbGVyeUNvbnRlbnQgPSBtYWluQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeVwiKTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gYWJyZSBwb3B1cCBwYXJhIGFncmVnYXIgaW1hZ2VuZXMgbnVldmFzKi9cbmV4cG9ydCBjb25zdCBwb3B1cFNob3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLXNob3dcIik7XG5jb25zdCBwb3B1cFBpY0NvbnQgPSBwb3B1cFNob3cucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1zaG93X19jb250YWluZXJcIik7XG5leHBvcnQgY29uc3QgYnRuQ2xvc2VQaWNQb3AgPSBwb3B1cFBpY0NvbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1zaG93X19jbG9zZVwiKTtcbmV4cG9ydCBjb25zdCBwb3B1cFBpY0ltYWdlID0gcG9wdXBQaWNDb250LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtc2hvd19fYWRkXCIpO1xuZXhwb3J0IGNvbnN0IHBvcHVwUGljVGl0bGUgPSBwb3B1cFBpY0NvbnQucXVlcnlTZWxlY3RvcihcbiAgXCIucG9wdXAtc2hvd19fdGl0bGUtY3JlYXRlXCJcbik7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGFicmUgcG9wdXAgcGFyYSBjb25maXJtYXIgZWxpbWluYWNpb24gZGUgaW1hZ2VuKi9cbmV4cG9ydCBjb25zdCBidG5SZW1vdmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Nsb3NlLWRlbGV0ZVwiKTtcblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gcG9wdXAgZWRpY2lvbiovXG5leHBvcnQgY29uc3QgYnRFZGl0ID0gZGF0YVByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWRhdGFcIik7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGNlcnJhciB2ZW50YW5hIGVtZXJnZW50ZSBkZWwgcG9wdXAgZGUgZWRpY2lvbiBwZXJmaWwgZGVzZGUgYm90b24gXCJYXCIqL1xuZXhwb3J0IGNvbnN0IGJ0Q2xvc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Nsb3NlLXByb2ZpbGVcIik7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGFicmlyIHZlbnRhbmEgZW1lcmdlbnRlIGRlbCBwb3B1cCBkZSBlZGljaW9uIHBlcmZpbCovXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XG5leHBvcnQgY29uc3QgcHJvZmlsZURlc2MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ZhY2UtaW1hZ2VcIik7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHBvcHVwIGNhcmQgbnVldmEqL1xuZXhwb3J0IGNvbnN0IGJ0QWRkID0gY29udGFpbmVyUHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1waWN0dXJlXCIpO1xuZXhwb3J0IGNvbnN0IG5hbWVOZXdDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbnB1dC1uYW1lXCIpO1xuZXhwb3J0IGNvbnN0IGpvYk5ld0NhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2lucHV0LWRlc2NcIik7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGNlcnJhciB2ZW50YW5hIGVtZXJnZW50ZSBkZWwgcG9wdXAgZGUgY2FyZCBudWV2YSBkZXNkZSBib3RvbiBcIlhcIiovXG5leHBvcnQgY29uc3QgYnRDbG9zZUNhcmROZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Nsb3NlLWNhcmRcIik7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGltYWdlbiBxdWUgZWplY3V0YSBsYSBlZGljaW9uIGRlIGF2YXRhciovXG5leHBvcnQgY29uc3QgaW1hZ2VQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbWFnZS1jb250ZW50XCIpO1xuZXhwb3J0IGNvbnN0IGJ0bkNsb3NlQ2hhbmdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjbG9zZS1jaGFuZ2VcIik7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIC8vYWJyZSBsYSB2ZW50YW5hIGVtZXJnZW50ZVxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBvcHVwX2dlbmVyYXRlXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgLy9jaWVycmEgbGEgdmVudGFuYSBlbWVyZ2VudGVcclxuICBjbG9zZSgpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfZ2VuZXJhdGVcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICAvL0FsIHByZXNpb25hciBsYSB0ZWNsYSBcIkVzY2FwZVwiLCBzZSBjaWVycmEgbGEgdmVudGFuYSBlbWVyZ2VudGVcclxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL0FsIHJlYWxpemFyIGNsaWNrIGZ1ZXJhIGRlIGxhIHZlbnRhbmEgZW1lcmdlbnRlLCBzZSBjaWVycmFcclxuICBoYW5kbGVDbGlja091dHNpZGUoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LnRhcmdldCA9PT0gdGhpcy5fcG9wdXBFbGVtZW50KSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vRGV0ZWN0b3IgZGUgZXZlbnRvc1xyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIHRoaXMuaGFuZGxlQ2xpY2tPdXRzaWRlKGV2dCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2lucHV0XCIpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2J0bkxpc3QgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XG4gIH1cblxuICAvL2NpZXJyYSBsYSB2ZW50YW5hIGVtZXJnZW50ZSB5IGxpbXBpYSBsb3MgY2FtcG9zIGRlbCBmb3JtdWxhcmlvXG4gIGNsb3NlKCkge1xuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucmVzZXQoKTtcbiAgfVxuICAvL3JlY29waWxhIGRhdG9zIGRlIHRvZG9zIGxvcyBjYW1wb3MgZGUgZW50cmFkYVxuICBnZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLmZvcm1WYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIHRoaXMuZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMuZm9ybVZhbHVlcztcbiAgfVxuXG4gIG9yaWdpbmFsQnV0dG9uKCkge1xuICAgIHRoaXMuX2J0bkxpc3QudGV4dENvbnRlbnQgPSBcIkd1YXJkYXJcIjtcbiAgfVxuXG4gIF9jaGFuZ2VzQnV0dG9uKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0sIDEwMDApO1xuICAgICAgdGhpcy5fYnRuTGlzdC50ZXh0Q29udGVudCA9IFwiR3VhcmRhbmRvLi4uXCI7XG4gICAgfSk7XG4gIH1cblxuICAvL0RldGVjdG9yIGRlIGV2ZW50b3NcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLmdldElucHV0VmFsdWVzKCkpO1xuICAgICAgdGhpcy5fY2hhbmdlc0J1dHRvbigpLnRoZW4oKCkgPT4ge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcmVuZGVyZWRJdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICAvL1RvbWEgdW4gZWxlbWVudG8gZGVsIERPTSB5IGxvIGFncmVnYSBhbCBjb250ZW5lZG9yXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoZWxlbWVudCk7XG4gIH1cblxuICAvL0xpbXBpYSBlbCBjb250ZW5lZG9yXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICB9XG5cbiAgLy9SZW5kZXJpemEgdG9kb3MgbG9zIGVsZW1lbnRvcyBlbiBsYSBww6FnaW5hXG4gIHJlbmRlcmVyKCkge1xuICAgIHRoaXMuY2xlYXIoKTtcblxuICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yLCBhdmF0YXJTZWxlY3RvciwgaWQgfSkge1xuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fam9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XG4gICAgdGhpcy5hdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcbiAgICB0aGlzLl91c2VySWQgPSBpZDtcbiAgfVxuXG4gIC8vIERldnVlbHZlIHVuIG9iamV0byBjb24gbG9zIGRhdG9zIGRlbCB1c3VhcmlvXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxuICAgICAgam9iOiB0aGlzLl9qb2IudGV4dENvbnRlbnQsXG4gICAgICBhdmF0YXI6IHRoaXMuYXZhdGFyLnNyYyxcbiAgICAgIF9pZDogdGhpcy5fdXNlcklkLFxuICAgIH07XG4gIH1cblxuICAvLyBFc3RhYmxlY2UgbG9zIGRhdG9zIGRlbCB1c3VhcmlvXG4gIHNldFVzZXJJbmZvKGRhdGEpIHtcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2pvYi50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XG4gICAgdGhpcy5hdmF0YXIuc3JjID0gZGF0YS5hdmF0YXI7XG4gICAgdGhpcy5fdXNlcklkID0gZGF0YS5faWQ7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3RvcihkYXRhLCBwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fY2FyZCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLXNob3dfX2NvbnRhaW5lclwiKTtcclxuICB9XHJcblxyXG4gIF9zZXRQcm9wZXJ0aWVzKCkge1xyXG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtc2hvd19fYWRkXCIpO1xyXG4gICAgdGhpcy5fdGl0bGUgPSB0aGlzLl9jYXJkLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtc2hvd19fdGl0bGUtY3JlYXRlXCIpO1xyXG5cclxuICAgIHRoaXMuX2ltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fdGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9zZXRQcm9wZXJ0aWVzKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLmJhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XG4gICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xuICB9XG5cbiAgaGFuZGxlUHJvbWlzZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgLy8gc2kgZWwgc2Vydmlkb3IgZGV2dWVsdmUgdW4gZXJyb3IsIHJlY2hhemEgZWwgcHJvbWlzZVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIC8qIG9idGllbmUgbGFzIGNhcnRhcyBkZSBsYSBBUEkgKi9cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhbmRsZVByb21pc2UocmVzKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyByZWdpc3RyYSBlbCBlcnJvciBlbiBsYSBjb25zb2xhXG4gICAgICB9KTtcbiAgfVxuXG4gIC8qIE9idGllbmUgbGEgaW5mb3JtYWNpw7NuIGRlbCBwZXJmaWwgZGUgbGEgQVBJICovXG4gIGdldFByb2ZpbGVJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhbmRsZVByb21pc2UocmVzKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyByZWdpc3RyYSBlbCBlcnJvciBlbiBsYSBjb25zb2xhXG4gICAgICB9KTtcbiAgfVxuXG4gIC8qIE1vZGlmaWNhIGxhIGluZm9ybWFjacOzbiBkZWwgcGVyZmlsIGRlIGxhIEFQSSAqL1xuICBlZGl0UHJvZmlsZShwcm9maWxlKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogcHJvZmlsZS5uYW1lLFxuICAgICAgICBhYm91dDogcHJvZmlsZS5hYm91dCxcbiAgICAgIH0pLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhbmRsZVByb21pc2UocmVzKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyByZWdpc3RyYSBlbCBlcnJvciBlbiBsYSBjb25zb2xhXG4gICAgICB9KTtcbiAgfVxuXG4gIC8qIEFncmVnYSBjYXJ0YXMgKi9cbiAgYWRkQ2FyZHMoY2FyZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogY2FyZC5uYW1lLFxuICAgICAgICBsaW5rOiBjYXJkLmxpbmssXG4gICAgICB9KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVQcm9taXNlKHJlcyk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTsgLy8gcmVnaXN0cmEgZWwgZXJyb3IgZW4gbGEgY29uc29sYVxuICAgICAgfSk7XG4gIH1cblxuICAvKiBFbGltaW5hIGNhcnRhcyAqL1xuICByZW1vdmVDYXJkcyhjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlUHJvbWlzZShyZXMpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vIHJlZ2lzdHJhIGVsIGVycm9yIGVuIGxhIGNvbnNvbGFcbiAgICAgIH0pO1xuICB9XG5cbiAgLyogQWdyZWdhIGxpa2VzICovXG4gIGFkZExpa2UoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhbmRsZVByb21pc2UocmVzKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyByZWdpc3RyYSBlbCBlcnJvciBlbiBsYSBjb25zb2xhXG4gICAgICB9KTtcbiAgfVxuXG4gIC8qIEVsaW1pbmEgbGlrZXMgKi9cbiAgZGVsZXRlTGlrZShjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlUHJvbWlzZShyZXMpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vIHJlZ2lzdHJhIGVsIGVycm9yIGVuIGxhIGNvbnNvbGFcbiAgICAgIH0pO1xuICB9XG5cbiAgLyogTW9kaWZpY2EgZWwgYXZhdGFyICovXG4gIGVkaXRQcm9maWxlQXZhdGFyKGF2YXRhcikge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXI6IGF2YXRhci51cmwsXG4gICAgICB9KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVQcm9taXNlKHJlcyk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTsgLy8gcmVnaXN0cmEgZWwgZXJyb3IgZW4gbGEgY29uc29sYVxuICAgICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2J0bkxpc3QgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19idXR0b25cIik7XG4gIH1cblxuICBvcGVuKGlkKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX2lkID0gaWQ7XG4gIH1cblxuICBzZXRIYW5kbGVTdWJtaXQoaGFuZGxlRm9ybUFjdGlvbikge1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtQWN0aW9uO1xuICB9XG5cbiAgb3JpZ2luYWxCdXR0b24oKSB7XG4gICAgdGhpcy5fYnRuTGlzdC50ZXh0Q29udGVudCA9IFwiU2lcIjtcbiAgfVxuXG4gIF9jaGFuZ2VzQnV0dG9uKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0sIDEwMDApO1xuICAgICAgdGhpcy5fYnRuTGlzdC50ZXh0Q29udGVudCA9IFwiQm9ycmFuZG8uLi5cIjtcbiAgICB9KTtcbiAgfVxuXG4gIC8vRGV0ZWN0b3IgZGUgZXZlbnRvc1xuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2dCkgPT4ge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2lkKTtcbiAgICAgIHRoaXMuX2NoYW5nZXNCdXR0b24oKS50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xuaW1wb3J0IHsgQ2FyZCB9IGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQge1xuICBidEVkaXQsXG4gIGJ0QWRkLFxuICBnYWxsZXJ5Q29udGVudCxcbiAgYnRDbG9zZSxcbiAgYnRDbG9zZUNhcmROZXcsXG4gIHByb2ZpbGVOYW1lLFxuICBwcm9maWxlRGVzYyxcbiAgbmFtZU5ld0NhcmQsXG4gIGpvYk5ld0NhcmQsXG4gIGJ0bkNsb3NlUGljUG9wLFxuICBidG5SZW1vdmUsXG4gIGltYWdlUHJvZmlsZSxcbiAgYnRuQ2xvc2VDaGFuZ2UsXG59IGZyb20gXCIuL3V0aWxzLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcbmltcG9ydCBpbWFnZUxvZ28gZnJvbSBcIi4uL2ltYWdlcy9sb2dvX2hlYWRlci5wbmdcIjtcbmltcG9ydCBpbWFnZVBlbmNpbCBmcm9tIFwiLi4vaW1hZ2VzL2VkaXRfcHJvZmlsZS5wbmdcIjtcbmltcG9ydCBpbWFnZUFkZCBmcm9tIFwiLi4vaW1hZ2VzL2FkZF9pY29uLnBuZ1wiO1xuaW1wb3J0IGNsb3NlUG9wdXAgZnJvbSBcIi4uL2ltYWdlcy9jbG9zZV9pY29uLnBuZ1wiO1xuaW1wb3J0IGltYWdlRWRpdFBlbmNpbCBmcm9tIFwiLi4vaW1hZ2VzL2xhcGl6LnBuZ1wiO1xuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtYXRpb24uanNcIjtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tSU1BR0VORVMgSU1QT1JUQURBUy0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW1hZ2UtbG9nb1wiKS5zcmMgPSBpbWFnZUxvZ287XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlLXBlbmNpbFwiKS5zcmMgPSBpbWFnZVBlbmNpbDtcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW1hZ2UtYWRkXCIpLnNyYyA9IGltYWdlQWRkO1xuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjbG9zZS1wcm9maWxlXCIpLnNyYyA9IGNsb3NlUG9wdXA7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Nsb3NlLWNhcmRcIikuc3JjID0gY2xvc2VQb3B1cDtcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2xvc2Utc2hvd1wiKS5zcmMgPSBjbG9zZVBvcHVwO1xuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjbG9zZS1kZWxldGVcIikuc3JjID0gY2xvc2VQb3B1cDtcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2xvc2UtY2hhbmdlXCIpLnNyYyA9IGNsb3NlUG9wdXA7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlLWVkaXQtcGVuY2lsXCIpLnNyYyA9IGltYWdlRWRpdFBlbmNpbDtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUFQSS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvd2ViX2VzXzExXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcImYyZDViNzRjLWM2MjYtNDAzOC1iMjc1LWIyMDBkMzY1ODJiNVwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVBFUkZJTC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgbmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX19uYW1lXCIsXG4gIGpvYlNlbGVjdG9yOiBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxuICBhdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9fZmFjZS1pbWFnZVwiLFxuICBpZDogXCJcIixcbn0pO1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS1BUEkgQ0FSR0EgUEVSRklMLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuYXBpLmdldFByb2ZpbGVJbmZvKCkudGhlbigocmVzdWx0KSA9PiB7XG4gIHVzZXJJbmZvLnNldFVzZXJJbmZvKHJlc3VsdCk7XG59KTtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tRlVOQ0lPTkVTIERFIFRBUkpFVEFTLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuZnVuY3Rpb24gaGFuZGxlQ2FyZENsaWNrKG5hbWUsIGxpbmspIHtcbiAgY29uc3QgcG9wdXBJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSh7IG5hbWUsIGxpbmsgfSwgXCIjcG9wdXAtc2hvd19pZFwiKTtcbiAgLy9hYnJlIGltYWdlbiB5IHRpdHVsbyBlbiB2ZW50YW5hIGVtZXJnZW50ZVxuICBwb3B1cEltYWdlLm9wZW4oKTtcblxuICAvL2V2ZW50byBwYXJhIGNlcnJhciB2ZW50YW5hIGVtZXJnZW50ZVxuICBidG5DbG9zZVBpY1BvcC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIHBvcHVwSW1hZ2UuY2xvc2UoKTtcbiAgfSk7XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUdFTkVSQURPUiBERSBUQVJKRVRBUy0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIGJ1aWxkRnVuY3Rpb25zQnlDYXJkKGl0ZW0pIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIGl0ZW0sXG4gICAgdXNlckluZm8uX3VzZXJJZCxcbiAgICBoYW5kbGVDYXJkQ2xpY2ssIC8vUG9wdXAgY29uIGltYWdlblxuICAgICgpID0+IHtcbiAgICAgIC8vUG9wdXAgZGUgYm9ycmFkbyBjYXJ0YVxuICAgICAgY29uc3QgcG9wdXBEZWxldGUgPSBuZXcgUG9wdXBXaXRoQ29uZmlybWF0aW9uKFwiI3BvcHVwLWRlbGV0ZVwiLCAoKSA9PiB7XG4gICAgICAgIGFwaS5yZW1vdmVDYXJkcyhpdGVtLl9pZCkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHBvcHVwRGVsZXRlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICBwb3B1cERlbGV0ZS5vcGVuKGl0ZW0uX2lkKTtcbiAgICAgIHBvcHVwRGVsZXRlLm9yaWdpbmFsQnV0dG9uKCk7XG4gICAgICBwb3B1cERlbGV0ZS5zZXRIYW5kbGVTdWJtaXQoKGlkKSA9PiB7XG4gICAgICAgIGFwaS5yZW1vdmVDYXJkcyhpZCkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgY2FyZC5yZW1vdmVDYXJkKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBidG5SZW1vdmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgICAgcG9wdXBEZWxldGUuY2xvc2UoKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgKGlkKSA9PiB7XG4gICAgICAvL0FncmVnYSBkZSBsaWtlc1xuICAgICAgYXBpLmFkZExpa2UoaWQpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBjYXJkLmxvYWRMaWtlcyhyZXN1bHQubGlrZXMpO1xuICAgICAgfSk7XG4gICAgfSxcbiAgICAoaWQpID0+IHtcbiAgICAgIC8vRWxpbWluYSBsaWtlc1xuICAgICAgYXBpLmRlbGV0ZUxpa2UoaWQpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBjYXJkLmxvYWRMaWtlcyhyZXN1bHQubGlrZXMpO1xuICAgICAgfSk7XG4gICAgfVxuICApO1xuICByZXR1cm4gY2FyZDtcbn1cblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tQVBJIENBUkdBIFRPREFTIExBUyBUQVJKRVRBUy0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmFwaS5nZXRJbml0aWFsQ2FyZHMoKS50aGVuKChyZXN1bHQpID0+IHtcbiAgY29uc3QgZGVmYXVsdENhcmRMaXN0ID0gbmV3IFNlY3Rpb24oXG4gICAge1xuICAgICAgaXRlbXM6IHJlc3VsdCxcbiAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgICBjb25zdCBjYXJkID0gYnVpbGRGdW5jdGlvbnNCeUNhcmQoaXRlbSk7XG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZC5nZW5lcmF0ZUNhcmQoKTtcbiAgICAgICAgZGVmYXVsdENhcmRMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xuICAgICAgfSxcbiAgICB9LFxuICAgIFwiLmdhbGxlcnlcIlxuICApO1xuXG4gIGRlZmF1bHRDYXJkTGlzdC5yZW5kZXJlcigpO1xufSk7XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVBPUFVQIEFWQVRBUi0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmNvbnN0IHBvcHVwQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjcG9wdXAtY2hhbmdlXCIsIChpbnB1dHMpID0+IHtcbiAgYXBpLmVkaXRQcm9maWxlQXZhdGFyKGlucHV0cykudGhlbigocmVzdWx0KSA9PiB7XG4gICAgdXNlckluZm8uYXZhdGFyLnNyYyA9IHJlc3VsdC5hdmF0YXI7XG4gIH0pO1xufSk7XG5cbi8vZ2VuZXJhZG9yIGRlIGV2ZW50b3NcbnBvcHVwQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vZXZlbnRvIHBhcmEgYWJyaXIgdmVudGFuYSBlbWVyZ2VudGVcbmltYWdlUHJvZmlsZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwb3B1cEF2YXRhci5vcGVuKCk7XG4gIHBvcHVwQXZhdGFyLm9yaWdpbmFsQnV0dG9uKCk7XG59KTtcblxuLy9ldmVudG8gcGFyYSBjZXJyYXIgdmVudGFuYSBlbWVyZ2VudGVcbmJ0bkNsb3NlQ2hhbmdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHBvcHVwQXZhdGFyLmNsb3NlKCk7XG59KTtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tUE9QVVAgUEVSRklMLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuY29uc3QgcG9wdXBQcm9maWxlID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjcG9wdXAtcHJvZmlsZVwiLCAoaW5wdXRzKSA9PiB7XG4gIGFwaS5lZGl0UHJvZmlsZShpbnB1dHMpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gcmVzdWx0Lm5hbWU7XG4gICAgcHJvZmlsZURlc2MudGV4dENvbnRlbnQgPSByZXN1bHQuYWJvdXQ7XG4gIH0pO1xuICAvL1xufSk7XG5cbi8vZ2VuZXJhZG9yIGRlIGV2ZW50b3NcbnBvcHVwUHJvZmlsZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vL2V2ZW50byBwYXJhIGFicmlyIHZlbnRhbmEgZW1lcmdlbnRlXG5idEVkaXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgcG9wdXBQcm9maWxlLm9wZW4oKTtcbiAgcG9wdXBQcm9maWxlLm9yaWdpbmFsQnV0dG9uKCk7XG4gIGNvbnN0IHVzID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgbmFtZU5ld0NhcmQudmFsdWUgPSB1cy5uYW1lO1xuICBqb2JOZXdDYXJkLnZhbHVlID0gdXMuam9iO1xufSk7XG5cbi8vZXZlbnRvIHBhcmEgY2VycmFyIHZlbnRhbmEgZW1lcmdlbnRlXG5idENsb3NlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHBvcHVwUHJvZmlsZS5jbG9zZSgpO1xufSk7XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVBPUFVQIE5VRVZBIENBUlRBLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuY29uc3QgcG9wdXBDYXJkID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjcG9wdXAtcGljdHVyZVwiLCAoaW5wdXRzKSA9PiB7XG4gIGFwaS5hZGRDYXJkcyh7IG5hbWU6IGlucHV0cy50aXRsZSwgbGluazogaW5wdXRzLmxpbmsgfSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJuZXcgY2FyZCByZXN1bHQgXCIsIHJlc3VsdCk7XG4gICAgY29uc3QgbmV3Y2FyZCA9IGJ1aWxkRnVuY3Rpb25zQnlDYXJkKHJlc3VsdCk7XG4gICAgZ2FsbGVyeUNvbnRlbnQucHJlcGVuZChuZXdjYXJkLmdlbmVyYXRlQ2FyZCgpKTtcbiAgfSk7XG59KTtcblxuLy9nZW5lcmFkb3IgZGUgZXZlbnRvc1xucG9wdXBDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vZXZlbnRvIHBhcmEgYWJyaXIgdmVudGFuYSBlbWVyZ2VudGVcbmJ0QWRkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHBvcHVwQ2FyZC5vcGVuKCk7XG4gIHBvcHVwQ2FyZC5vcmlnaW5hbEJ1dHRvbigpO1xufSk7XG5cbi8vZXZlbnRvIHBhcmEgY2VycmFyIHZlbnRhbmEgZW1lcmdlbnRlXG5idENsb3NlQ2FyZE5ldy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwb3B1cENhcmQuY2xvc2UoKTtcbn0pO1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS1WQUxJREFDSU9ORVMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vVmFsaWRhY2nDs24gZGUgbG9zIGNhbXBvcyBkZWwgZm9ybXVsYXJpb1xuY29uc3QgZm9ybUxpc3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucG9wdXBfX2Zvcm1cIikpO1xuXG5mb3JtTGlzdC5mb3JFYWNoKChmb3JtRWxlbWVudCkgPT4ge1xuICAvL2l0ZXJhY2lvbiBkZSBmb3JtdWxhcmlvc1xuICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgICB7XG4gICAgICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXG4gICAgICBpbnB1dFNlbGVjdG9yOiBcIi5wb3B1cF9faW5wdXRcIixcbiAgICAgIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fYnV0dG9uXCIsXG4gICAgICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idXR0b25faW5hY3RpdmVcIixcbiAgICAgIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICAgICAgaW5wdXRFcnJvckFjdGl2ZTogXCJwb3B1cF9faW5wdXQtZXJyb3JfYWN0aXZlXCIsXG4gICAgICBlcnJvckNsYXNzOiBcIi5wb3B1cF9fZXJyb3JcIixcbiAgICB9LFxuICAgIGZvcm1FbGVtZW50XG4gICk7XG4gIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG59KTtcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiQ2FyZCIsImRhdGEiLCJ1c2VySWQiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVDYXJkRGVsZXRlIiwiaGFuZGxlQ2FyZExpa2UiLCJoYW5kbGVDYXJkRGlzTGlrZSIsIl9jbGFzc0NhbGxDaGVjayIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfaWQiLCJfbGlrZXMiLCJsaWtlcyIsIl9vd25lciIsIm93bmVyIiwiX3VzZXJJZCIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfaGFuZGxlQ2FyZERlbGV0ZSIsIl9oYW5kbGVDYXJkTGlrZSIsIl9oYW5kbGVDYXJkRGlzbGlrZSIsIl9jYXJkIiwiX2dldFRlbXBsYXRlIiwia2V5IiwidmFsdWUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2J0bkRlbGV0ZSIsInNyYyIsImltYWdlVHJhc2giLCJyZW1vdmUiLCJfZ2FsbGVyeUltYWdlIiwiX2dhbGxlcnlDb250IiwiX2dhbGxlcnlUaXRsZSIsIl9idG5MaWtlIiwibGlrZXNDb3VudGVyIiwiYWx0IiwidGV4dENvbnRlbnQiLCJsZW5ndGgiLCJfdGhpcyIsInNvbWUiLCJsaWtlIiwiX3RoaXMyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInZhbGlkYXRlTGlrZSIsImFkZCIsIl9zZXRQcm9wZXJ0aWVzIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsZW1lbnQiLCJfc2V0dGluZ3MiLCJfZm9ybUVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJjb25jYXQiLCJpZCIsImlucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JBY3RpdmUiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVJbnB1dEVycm9yIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJpbnB1dExpc3QiLCJ0cmltIiwiYnV0dG9uRWxlbWVudCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJfYWRkRXZlbnRJbnB1dEFuZFZhbGlkYXRlIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsImV2dCIsInByZXZlbnREZWZhdWx0IiwiX2dldFN1Ym1pdCIsImNvbnRhaW5lclByb2ZpbGUiLCJkYXRhUHJvZmlsZSIsImdhbGxlcnlDb250ZW50IiwicG9wdXBQaWNDb250IiwiYnRuQ2xvc2VQaWNQb3AiLCJidG5SZW1vdmUiLCJidEVkaXQiLCJidENsb3NlIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlRGVzYyIsImJ0QWRkIiwibmFtZU5ld0NhcmQiLCJqb2JOZXdDYXJkIiwiYnRDbG9zZUNhcmROZXciLCJpbWFnZVByb2ZpbGUiLCJidG5DbG9zZUNoYW5nZSIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNsb3NlIiwidGFyZ2V0IiwiaGFuZGxlQ2xpY2tPdXRzaWRlIiwiUG9wdXBXaXRoRm9ybSIsIl9Qb3B1cCIsImhhbmRsZUZvcm1TdWJtaXQiLCJfY2FsbFN1cGVyIiwiX2lucHV0TGlzdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2J0bkxpc3QiLCJfaW5oZXJpdHMiLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiY2FsbCIsInJlc2V0IiwiZm9ybVZhbHVlcyIsImlucHV0IiwiX3RoaXMzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiX3RoaXM0IiwiZ2V0SW5wdXRWYWx1ZXMiLCJfY2hhbmdlc0J1dHRvbiIsInRoZW4iLCJTZWN0aW9uIiwiX3JlZiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9yZW5kZXJlZEl0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImVsZW1lbnQiLCJhcHBlbmQiLCJpbm5lckhUTUwiLCJjbGVhciIsIml0ZW0iLCJVc2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImpvYlNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfam9iIiwiYXZhdGFyIiwiam9iIiwiYWJvdXQiLCJQb3B1cFdpdGhJbWFnZSIsIl9pbWFnZSIsIl90aXRsZSIsIkFwaSIsIm9wdGlvbnMiLCJiYXNlVXJsIiwiaGVhZGVycyIsInJlcyIsIm9rIiwianNvbiIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwibWV0aG9kIiwiaGFuZGxlUHJvbWlzZSIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsInByb2ZpbGUiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNhcmQiLCJjYXJkSWQiLCJfdGhpczUiLCJfdGhpczYiLCJfdGhpczciLCJfdGhpczgiLCJ1cmwiLCJQb3B1cFdpdGhDb25maXJtYXRpb24iLCJoYW5kbGVGb3JtQWN0aW9uIiwiaW1hZ2VMb2dvIiwiaW1hZ2VQZW5jaWwiLCJpbWFnZUFkZCIsImNsb3NlUG9wdXAiLCJpbWFnZUVkaXRQZW5jaWwiLCJhcGkiLCJhdXRob3JpemF0aW9uIiwidXNlckluZm8iLCJwb3B1cEltYWdlIiwib3BlbiIsImJ1aWxkRnVuY3Rpb25zQnlDYXJkIiwicG9wdXBEZWxldGUiLCJyZW1vdmVDYXJkcyIsInJlc3VsdCIsInNldEV2ZW50TGlzdGVuZXJzIiwib3JpZ2luYWxCdXR0b24iLCJzZXRIYW5kbGVTdWJtaXQiLCJyZW1vdmVDYXJkIiwiYWRkTGlrZSIsImxvYWRMaWtlcyIsImRlbGV0ZUxpa2UiLCJnZXRQcm9maWxlSW5mbyIsInNldFVzZXJJbmZvIiwiZ2V0SW5pdGlhbENhcmRzIiwiZGVmYXVsdENhcmRMaXN0IiwiY2FyZEVsZW1lbnQiLCJnZW5lcmF0ZUNhcmQiLCJhZGRJdGVtIiwicG9wdXBBdmF0YXIiLCJpbnB1dHMiLCJlZGl0UHJvZmlsZUF2YXRhciIsInBvcHVwUHJvZmlsZSIsImVkaXRQcm9maWxlIiwidXMiLCJnZXRVc2VySW5mbyIsInBvcHVwQ2FyZCIsImFkZENhcmRzIiwidGl0bGUiLCJuZXdjYXJkIiwicHJlcGVuZCIsImZvcm1TZWxlY3RvciIsImVycm9yQ2xhc3MiLCJlbmFibGVWYWxpZGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==