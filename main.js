!function(){"use strict";var e="",t=e+"4ca60d6bc216cdde68af.png";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}var i=function(){return e=function e(t,n,r,o,i,u){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t.name,this._link=t.link,this._id=t._id,this._likes=t.likes,this._owner=t.owner,this._userId=n,this._handleCardClick=r,this._handleCardDelete=o,this._handleCardLike=i,this._handleCardDislike=u,this._card=this._getTemplate()},(n=[{key:"_getTemplate",value:function(){return document.querySelector("#gallery-template").content.querySelector(".gallery__item").cloneNode(!0)}},{key:"_setProperties",value:function(){this._btnDelete=this._card.querySelector(".gallery__trash"),this._btnDelete.src=t,this._owner._id!==this._userId&&this._btnDelete.remove(),this._galleryImage=this._card.querySelector(".gallery__image"),this._galleryCont=this._card.querySelector(".gallery__content-text"),this._galleryTitle=this._galleryCont.querySelector(".gallery__title-item"),this._btnLike=this._galleryCont.querySelector(".gallery__like"),this.likesCounter=this._galleryCont.querySelector(".gallery__like-number"),this._galleryImage.src=this._link,this._galleryImage.alt=this._name,this._galleryTitle.textContent=this._name,this.likesCounter.textContent=this._likes.length}},{key:"removeCard",value:function(){this._card.remove()}},{key:"loadLikes",value:function(e){this._likes=e,this.likesCounter.textContent=e.length}},{key:"validateLike",value:function(){var e=this;return this._likes.some((function(t){return t._id===e._userId}))}},{key:"_setEventListeners",value:function(){var e=this;this._btnLike.addEventListener("click",(function(){e._btnLike.classList.toggle("gallery__like_active"),e.validateLike()?e._handleCardDislike(e._id):e._handleCardLike(e._id)})),this.validateLike()?this._btnLike.classList.add("gallery__like_active"):this._btnLike.classList.remove("gallery__like_active"),this._btnDelete.addEventListener("click",(function(){e._handleCardDelete(e._id)})),this._galleryImage.addEventListener("click",(function(){e._handleCardClick(e._name,e._link)}))}},{key:"generateCard",value:function(){return this._setProperties(),this._setEventListeners(),this._card}}])&&r(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}();function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==u(t)?t:t+""}var l=function(){return e=function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._settings=t,this._formElement=n},(t=[{key:"_showInputError",value:function(e,t,n){var r=n.querySelector(".".concat(e.id,"-error"));e.classList.add(this._settings.inputErrorClass),r.textContent=t,r.classList.add(this._settings.inputErrorActive)}},{key:"_hideInputError",value:function(e,t){var n=t.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._settings.inputErrorClass),n.classList.remove(this._settings.inputErrorActive),n.textContent=""}},{key:"_checkInputValidity",value:function(e,t){e.validity.valid?this._hideInputError(e,t):this._showInputError(e,e.validationMessage,t)}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return console.log(e.validity.valid),console.log(e.value.trim().length),console.log(e.value),!e.validity.valid||0===e.value.trim().length}))}},{key:"_toggleButtonState",value:function(e,t){this._hasInvalidInput(e)?t.classList.add(this._settings.inactiveButtonClass):t.classList.remove(this._settings.inactiveButtonClass)}},{key:"_setEventListeners",value:function(){var e=this,t=Array.from(this._formElement.querySelectorAll(this._settings.inputSelector)),n=this._formElement.querySelector(this._settings.submitButtonSelector);this._toggleButtonState(t,n),t.forEach((function(r){e._addEventInputAndValidate(r,t,n,e._formElement)}))}},{key:"_addEventInputAndValidate",value:function(e,t,n,r){var o=this;e.addEventListener("input",(function(){o._checkInputValidity(e,r),o._toggleButtonState(t,n)}))}},{key:"_getSubmit",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()}))}},{key:"enableValidation",value:function(){this._getSubmit(),this._setEventListeners()}}])&&c(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),s=document.querySelector(".profile").querySelector(".profile__container"),f=s.querySelector(".profile__data"),p=document.querySelector(".main").querySelector(".gallery"),y=document.querySelector(".popup-show").querySelector(".popup-show__container"),h=y.querySelector(".popup-show__close"),d=(y.querySelector(".popup-show__add"),y.querySelector(".popup-show__title-create"),document.querySelector("#close-delete")),m=f.querySelector(".profile__edit-data"),v=document.querySelector("#close-profile"),b=document.querySelector(".profile__name"),_=document.querySelector(".profile__description"),g=(document.querySelector(".profile__face-image"),s.querySelector(".profile__add-picture")),S=document.querySelector("#input-name"),k=document.querySelector("#input-desc"),w=document.querySelector("#close-card"),E=document.querySelector("#image-content"),P=document.querySelector("#close-change");function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}function L(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==j(t)?t:t+""}var O=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)},(t=[{key:"open",value:function(){this._popupElement.classList.add("popup_generate"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_generate"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"handleClickOutside",value:function(e){e.target===this._popupElement&&this.close()}},{key:"setEventListeners",value:function(){var e=this;document.addEventListener("keydown",this._handleEscClose),this._popupElement.addEventListener("click",(function(t){e.handleClickOutside(t)}))}}])&&C(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,I(r.key),r)}}function I(e){var t=function(e,t){if("object"!=q(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==q(t)?t:t+""}function B(e,t,n){return t=R(t),function(e,t){if(t&&("object"==q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,x()?Reflect.construct(t,n||[],R(e).constructor):t.apply(e,n))}function x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(x=function(){return!!e})()}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},D.apply(null,arguments)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function U(e,t){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U(e,t)}var A=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=B(this,t,[e]))._formElement=r._popupElement.querySelector(".popup__form"),r._inputList=r._formElement.querySelectorAll(".popup__input"),r._handleFormSubmit=n,r._btnList=r._formElement.querySelector(".popup__button"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(t,e),n=t,(r=[{key:"close",value:function(){D(R(t.prototype),"close",this).call(this),this._formElement.reset()}},{key:"getInputValues",value:function(){var e=this;return this.formValues={},this._inputList.forEach((function(t){e.formValues[t.name]=t.value})),this.formValues}},{key:"originalButton",value:function(){this._btnList.textContent="Guardar"}},{key:"_changesButton",value:function(){var e=this;return new Promise((function(t){setTimeout((function(){t()}),1e3),e._btnList.textContent="Guardando..."}))}},{key:"setEventListeners",value:function(){var e=this;D(R(t.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e.getInputValues()),e._changesButton().then((function(){e.close()}))}))}}])&&T(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(O);function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,H(r.key),r)}}function H(e){var t=function(e,t){if("object"!=V(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==V(t)?t:t+""}var G=function(){return e=function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedItems=r,this._renderer=o,this._container=document.querySelector(n)},(t=[{key:"addItem",value:function(e){this._container.append(e)}},{key:"clear",value:function(){this._container.innerHTML=""}},{key:"renderer",value:function(){var e=this;this.clear(),this._renderedItems.forEach((function(t){e._renderer(t)}))}}])&&F(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function J(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,M(r.key),r)}}function M(e){var t=function(e,t){if("object"!=N(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==N(t)?t:t+""}var z=function(){return e=function e(t){var n=t.nameSelector,r=t.jobSelector,o=t.avatarSelector,i=t.id;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._job=document.querySelector(r),this.avatar=document.querySelector(o),this._userId=i},(t=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,job:this._job.textContent,avatar:this.avatar.src,_id:this._userId}}},{key:"setUserInfo",value:function(e){this._name.textContent=e.name,this._job.textContent=e.about,this.avatar.src=e.avatar,this._userId=e._id}}])&&J(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}();function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function Q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W(r.key),r)}}function W(e){var t=function(e,t){if("object"!=K(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=K(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==K(t)?t:t+""}function X(e,t,n){return t=$(t),function(e,t){if(t&&("object"==K(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Y()?Reflect.construct(t,n||[],$(e).constructor):t.apply(e,n))}function Y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Y=function(){return!!e})()}function Z(){return Z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=$(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},Z.apply(null,arguments)}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}function ee(e,t){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ee(e,t)}var te=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=X(this,t,[n]))._name=e.name,r._link=e.link,r._card=r._popupElement.querySelector(".popup-show__container"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ee(e,t)}(t,e),n=t,(r=[{key:"_setProperties",value:function(){this._image=this._card.querySelector(".popup-show__add"),this._title=this._card.querySelector(".popup-show__title-create"),this._image.src=this._link,this._image.alt=this._name,this._title.textContent=this._name}},{key:"open",value:function(){Z($(t.prototype),"open",this).call(this),Z($(t.prototype),"setEventListeners",this).call(this),this._setProperties()}}])&&Q(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(O);function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oe(r.key),r)}}function oe(e){var t=function(e,t){if("object"!=ne(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ne(t)?t:t+""}var ie=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=t.baseUrl,this.headers=t.headers},(t=[{key:"handlePromise",value:function(e){return e.ok?e.json():Promise.reject("Error: ".concat(e.status))}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this.baseUrl,"/cards"),{method:"GET",headers:this.headers}).then((function(t){return e.handlePromise(t)})).catch((function(e){console.log(e)}))}},{key:"getProfileInfo",value:function(){var e=this;return fetch("".concat(this.baseUrl,"/users/me"),{method:"GET",headers:this.headers}).then((function(t){return e.handlePromise(t)})).catch((function(e){console.log(e)}))}},{key:"editProfile",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/users/me"),{method:"PATCH",headers:this.headers,body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){return t.handlePromise(e)})).catch((function(e){console.log(e)}))}},{key:"addCards",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards"),{method:"POST",headers:this.headers,body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return t.handlePromise(e)})).catch((function(e){console.log(e)}))}},{key:"removeCards",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards/").concat(e),{method:"DELETE",headers:this.headers}).then((function(e){return t.handlePromise(e)})).catch((function(e){console.log(e)}))}},{key:"addLike",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:this.headers}).then((function(e){return t.handlePromise(e)})).catch((function(e){console.log(e)}))}},{key:"deleteLike",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:this.headers}).then((function(e){return t.handlePromise(e)})).catch((function(e){console.log(e)}))}},{key:"editProfileAvatar",value:function(e){var t=this;return fetch("".concat(this.baseUrl,"/users/me/avatar"),{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:e.url})}).then((function(e){return t.handlePromise(e)})).catch((function(e){console.log(e)}))}}])&&re(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}(),ue=e+"aa1b5592fed861ab3510.png",ce=e+"609b6840c8b2e02c8ca9.png",ae=e+"9036a094c3c410e6a834.png",le=e+"b055c3f7a4de2a452e9d.png",se=e+"93c771f5f8582261951d.png";function fe(e){return fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fe(e)}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ye(r.key),r)}}function ye(e){var t=function(e,t){if("object"!=fe(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=fe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==fe(t)?t:t+""}function he(e,t,n){return t=ve(t),function(e,t){if(t&&("object"==fe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,de()?Reflect.construct(t,n||[],ve(e).constructor):t.apply(e,n))}function de(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(de=function(){return!!e})()}function me(){return me="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=ve(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},me.apply(null,arguments)}function ve(e){return ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ve(e)}function be(e,t){return be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},be(e,t)}var _e=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=he(this,t,[e]))._formElement=r._popupElement.querySelector(".popup__form"),r._handleFormSubmit=n,r._btnList=r._formElement.querySelector(".popup__button"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&be(e,t)}(t,e),n=t,(r=[{key:"open",value:function(e){me(ve(t.prototype),"open",this).call(this),this._id=e}},{key:"setHandleSubmit",value:function(e){this._handleFormSubmit=e}},{key:"originalButton",value:function(){this._btnList.textContent="Si"}},{key:"_changesButton",value:function(){var e=this;return new Promise((function(t){setTimeout((function(){t()}),1e3),e._btnList.textContent="Borrando..."}))}},{key:"setEventListeners",value:function(){var e=this;me(ve(t.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._id),e._changesButton().then((function(){e.close()}))}))}}])&&pe(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(O);document.querySelector("#image-logo").src=ue,document.querySelector("#image-pencil").src=ce,document.querySelector("#image-add").src=ae,document.querySelector("#close-profile").src=le,document.querySelector("#close-card").src=le,document.querySelector("#close-show").src=le,document.querySelector("#close-delete").src=le,document.querySelector("#close-change").src=le,document.querySelector("#image-edit-pencil").src=se;var ge=new ie({baseUrl:"https://around.nomoreparties.co/v1/web_es_11",headers:{authorization:"f2d5b74c-c626-4038-b275-b200d36582b5","Content-Type":"application/json"}}),Se=new z({nameSelector:".profile__name",jobSelector:".profile__description",avatarSelector:".profile__face-image",id:""});function ke(e,t){var n=new te({name:e,link:t},"#popup-show_id");n.open(),h.addEventListener("click",(function(){n.close()}))}function we(e){var t=new i(e,Se._userId,ke,(function(){var n=new _e("#popup-delete",(function(){ge.removeCards(e._id).then((function(e){return e}))}));n.setEventListeners(),n.open(e._id),n.originalButton(),n.setHandleSubmit((function(e){ge.removeCards(e).then((function(e){t.removeCard()}))})),d.addEventListener("click",(function(){n.close()}))}),(function(e){ge.addLike(e).then((function(e){t.loadLikes(e.likes)}))}),(function(e){ge.deleteLike(e).then((function(e){t.loadLikes(e.likes)}))}));return t}ge.getProfileInfo().then((function(e){Se.setUserInfo(e)})),ge.getInitialCards().then((function(e){var t=new G({items:e,renderer:function(e){var n=we(e).generateCard();t.addItem(n)}},".gallery");t.renderer()}));var Ee=new A("#popup-change",(function(e){ge.editProfileAvatar(e).then((function(e){Se.avatar.src=e.avatar}))}));Ee.setEventListeners(),E.addEventListener("click",(function(){Ee.open(),Ee.originalButton()})),P.addEventListener("click",(function(){Ee.close()}));var Pe=new A("#popup-profile",(function(e){ge.editProfile(e).then((function(e){b.textContent=e.name,_.textContent=e.about}))}));Pe.setEventListeners(),m.addEventListener("click",(function(){Pe.open(),Pe.originalButton();var e=Se.getUserInfo();S.value=e.name,k.value=e.job})),v.addEventListener("click",(function(){Pe.close()}));var je=new A("#popup-picture",(function(e){ge.addCards({name:e.title,link:e.link}).then((function(e){var t=we(e);p.prepend(t.generateCard())}))}));je.setEventListeners(),g.addEventListener("click",(function(){je.open(),je.originalButton()})),w.addEventListener("click",(function(){je.close()})),Array.from(document.querySelectorAll(".popup__form")).forEach((function(e){new l({formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_inactive",inputErrorClass:"popup__input_type_error",inputErrorActive:"popup__input-error_active",errorClass:".popup__error"},e).enableValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVc1RSxNQUFRb00sRUFBR2pFLEdBQ3hCLElBR0E1RCxFQUFRbEQsaUJBQWlCLFNBQVMsV0FDaEM2SyxHQUFhNUcsT0FDZixJQUdBLElBQU1nSCxHQUFZLElBQUk3RyxFQUFjLGtCQUFrQixTQUFDdUcsR0FDckR4QixHQUFJK0IsU0FBUyxDQUFFdk4sS0FBTWdOLEVBQU9RLE1BQU90TixLQUFNOE0sRUFBTzlNLE9BQVE2SCxNQUFLLFNBQUNpRSxHQUM1RCxJQUFNeUIsRUFBVTVCLEdBQXFCRyxHQUNyQzlHLEVBQWV3SSxRQUFRRCxFQUFRWixlQUNqQyxHQUNGLElBR0FTLEdBQVVyQixvQkFHVnZHLEVBQU1yRCxpQkFBaUIsU0FBUyxXQUM5QmlMLEdBQVUxQixPQUNWMEIsR0FBVXBCLGdCQUNaLElBR0FyRyxFQUFleEQsaUJBQWlCLFNBQVMsV0FDdkNpTCxHQUFVaEgsT0FDWixJQUtpQmxDLE1BQU1DLEtBQUtwRCxTQUFTcUQsaUJBQWlCLGlCQUU3Q0ksU0FBUSxTQUFDNUIsR0FFRSxJQUFJRixFQUNwQixDQUNFK0ssYUFBYyxlQUNkcEosY0FBZSxnQkFDZkMscUJBQXNCLGlCQUN0Qkwsb0JBQXFCLHlCQUNyQmIsZ0JBQWlCLDBCQUNqQkMsaUJBQWtCLDRCQUNsQnFLLFdBQVksaUJBRWQ5SyxHQUVRK0ssa0JBQ1osRyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL3V0aWxzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF9hcm91bmQvLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfYXJvdW5kLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0X2Fyb3VuZC8uL3NyYy9zY3JpcHRzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsImltcG9ydCBpbWFnZVRyYXNoIGZyb20gXCIuLi9pbWFnZXMvdHJhc2gucG5nXCI7XG5cbmV4cG9ydCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZGF0YSxcbiAgICB1c2VySWQsXG4gICAgaGFuZGxlQ2FyZENsaWNrLFxuICAgIGhhbmRsZUNhcmREZWxldGUsXG4gICAgaGFuZGxlQ2FyZExpa2UsXG4gICAgaGFuZGxlQ2FyZERpc0xpa2VcbiAgKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xuICAgIC8qdGhpcy5fY2FyZElkID0gZGF0YS5faWQ7Ki9cbiAgICB0aGlzLl9vd25lciA9IGRhdGEub3duZXI7XG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlID0gaGFuZGxlQ2FyZERlbGV0ZTtcbiAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZSA9IGhhbmRsZUNhcmRMaWtlO1xuICAgIHRoaXMuX2hhbmRsZUNhcmREaXNsaWtlID0gaGFuZGxlQ2FyZERpc0xpa2U7XG4gICAgdGhpcy5fY2FyZCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gIH1cblxuICAvL09idGllbmUgbGEgcGxhbnRpbGxhIGRlIGxhIHRhcmpldGFcbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIHJldHVybiBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIjZ2FsbGVyeS10ZW1wbGF0ZVwiKVxuICAgICAgLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19pdGVtXCIpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuICB9XG5cbiAgLy9Fc3RhYmxlY2UgbGFzIHByb3BpZWRhZGVzIGRlIGxhIHRhcmpldGFcbiAgX3NldFByb3BlcnRpZXMoKSB7XG4gICAgdGhpcy5fYnRuRGVsZXRlID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX3RyYXNoXCIpO1xuICAgIHRoaXMuX2J0bkRlbGV0ZS5zcmMgPSBpbWFnZVRyYXNoO1xuICAgIGlmICh0aGlzLl9vd25lci5faWQgIT09IHRoaXMuX3VzZXJJZCkge1xuICAgICAgdGhpcy5fYnRuRGVsZXRlLnJlbW92ZSgpO1xuICAgIH1cblxuICAgIHRoaXMuX2dhbGxlcnlJbWFnZSA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19pbWFnZVwiKTtcbiAgICB0aGlzLl9nYWxsZXJ5Q29udCA9IHRoaXMuX2NhcmQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19jb250ZW50LXRleHRcIik7XG4gICAgdGhpcy5fZ2FsbGVyeVRpdGxlID0gdGhpcy5fZ2FsbGVyeUNvbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLmdhbGxlcnlfX3RpdGxlLWl0ZW1cIlxuICAgICk7XG4gICAgdGhpcy5fYnRuTGlrZSA9IHRoaXMuX2dhbGxlcnlDb250LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fbGlrZVwiKTtcbiAgICB0aGlzLmxpa2VzQ291bnRlciA9IHRoaXMuX2dhbGxlcnlDb250LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5nYWxsZXJ5X19saWtlLW51bWJlclwiXG4gICAgKTtcblxuICAgIHRoaXMuX2dhbGxlcnlJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2dhbGxlcnlJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2dhbGxlcnlUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5saWtlc0NvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XG4gIH1cblxuICByZW1vdmVDYXJkKCkge1xuICAgIHRoaXMuX2NhcmQucmVtb3ZlKCk7XG4gIH1cblxuICBsb2FkTGlrZXMobGlrZXMpIHtcbiAgICB0aGlzLl9saWtlcyA9IGxpa2VzO1xuICAgIHRoaXMubGlrZXNDb3VudGVyLnRleHRDb250ZW50ID0gbGlrZXMubGVuZ3RoO1xuICB9XG5cbiAgdmFsaWRhdGVMaWtlKCkge1xuICAgIC8vaW5kaWNhIHNpIGVsIHVzdWFyaW8gaGEgZGFkbyBsaWtlIG8gbm8gYSB1bmEgdGFyamV0YVxuICAgIGNvbnN0IGhhc1VzZXJMaWtlZCA9IHRoaXMuX2xpa2VzLnNvbWUoKGxpa2UpID0+IGxpa2UuX2lkID09PSB0aGlzLl91c2VySWQpO1xuICAgIHJldHVybiBoYXNVc2VyTGlrZWQ7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgLy9FdmVudG9zIGdlbmVyYWxlcyBwYXJhIGRhciBsaWtlLCBlbGltaW5hciB5IGFicmlyIHBvcHVwXG4gICAgdGhpcy5fYnRuTGlrZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgLy92YWxpZGEgc2kgZWwgdXN1YXJpbyBoYSBkYWRvIGxpa2UgbyBub1xuICAgICAgdGhpcy5fYnRuTGlrZS5jbGFzc0xpc3QudG9nZ2xlKFwiZ2FsbGVyeV9fbGlrZV9hY3RpdmVcIik7XG5cbiAgICAgIC8vbMOzZ2ljYSBwYXJhIGRhciBsaWtlIG8gcXVpdGFyIGxpa2VcbiAgICAgIGNvbnN0IGhhc1VzZXJMaWtlZCA9IHRoaXMudmFsaWRhdGVMaWtlKCk7XG4gICAgICBpZiAoaGFzVXNlckxpa2VkKSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmREaXNsaWtlKHRoaXMuX2lkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNhcmRMaWtlKHRoaXMuX2lkKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vdmFsaWRhIHNpIGVsIHVzdWFyaW8gaGEgZGFkbyBsaWtlIG8gbm8geSBjYW1iaWEgZWwgY29sb3IgZGVsIGJvdMOzblxuICAgIGNvbnN0IGhhc1VzZXJMaWtlZCA9IHRoaXMudmFsaWRhdGVMaWtlKCk7XG4gICAgaWYgKGhhc1VzZXJMaWtlZCkge1xuICAgICAgdGhpcy5fYnRuTGlrZS5jbGFzc0xpc3QuYWRkKFwiZ2FsbGVyeV9fbGlrZV9hY3RpdmVcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J0bkxpa2UuY2xhc3NMaXN0LnJlbW92ZShcImdhbGxlcnlfX2xpa2VfYWN0aXZlXCIpO1xuICAgIH1cblxuICAgIC8vaWYgKHRoaXMub3duZXIuX2lkICE9PSB0aGlzLnVzZXJJZCkge1xuICAgIC8vRXZlbnRvIHBhcmEgZWxpbWluYXIgY2FyZFxuICAgIHRoaXMuX2J0bkRlbGV0ZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZERlbGV0ZSh0aGlzLl9pZCk7XG4gICAgfSk7XG4gICAgLy99XG5cbiAgICAvL0V2ZW50byBwYXJhIGFicmlyIGltYWdlbiBlbiB2ZW50YW5hIGVtZXJnZW50ZVxuICAgIHRoaXMuX2dhbGxlcnlJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xuICAgIH0pO1xuICB9XG5cbiAgLy9HZW5lcmEgbGEgdGFyamV0YVxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fc2V0UHJvcGVydGllcygpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fY2FyZDtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihzZXR0aW5ncywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gIH1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFZhbGlkYWNpw7NuIGRlIGxvcyBjYW1wb3MgZGVsIGZvcm11bGFyaW8sIG11ZXN0cmEgbyBxdWl0YSBlcnJvcmVzXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSwgZm9ybUVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuaW5wdXRFcnJvckFjdGl2ZSk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBmb3JtRWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmlucHV0RXJyb3JBY3RpdmUpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH1cblxuICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIFZlcmlmaWNhIHNpIGVsIGlucHV0IGVzIHbDoWxpZG9cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQsIGZvcm1FbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKFxuICAgICAgICBpbnB1dEVsZW1lbnQsXG4gICAgICAgIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSxcbiAgICAgICAgZm9ybUVsZW1lbnRcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZm9ybUVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gVmVyaWZpY2Egc2kgaGF5IGNhbXBvcyBpbnbDoWxpZG9zXG4gIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSB7XG4gICAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCk7XG4gICAgICBjb25zb2xlLmxvZyhpbnB1dEVsZW1lbnQudmFsdWUudHJpbSgpLmxlbmd0aCk7XG4gICAgICBjb25zb2xlLmxvZyhpbnB1dEVsZW1lbnQudmFsdWUpO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCB8fCBpbnB1dEVsZW1lbnQudmFsdWUudHJpbSgpLmxlbmd0aCA9PT0gMFxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gQ2FtYmlhIGVsIGVzdGFkbyBkZWwgYm90w7NuXG4gIF90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsZW1lbnQpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIH1cbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gT2J0aWVuZSBsb3MgaW5wdXRzIHBvciBmb3JtdWxhcmlvIHkgbGVzIGHDsWFkZSBldmVudG9zXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBjb25zdCBpbnB1dExpc3QgPSBBcnJheS5mcm9tKFxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9zZXR0aW5ncy5pbnB1dFNlbGVjdG9yKVxuICAgICk7XG5cbiAgICBjb25zdCBidXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIHRoaXMuX3NldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgKTtcblxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKGlucHV0TGlzdCwgYnV0dG9uRWxlbWVudCk7XG5cbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICB0aGlzLl9hZGRFdmVudElucHV0QW5kVmFsaWRhdGUoXG4gICAgICAgIGlucHV0RWxlbWVudCxcbiAgICAgICAgaW5wdXRMaXN0LFxuICAgICAgICBidXR0b25FbGVtZW50LFxuICAgICAgICB0aGlzLl9mb3JtRWxlbWVudFxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9hZGRFdmVudElucHV0QW5kVmFsaWRhdGUoXG4gICAgaW5wdXRFbGVtZW50LFxuICAgIGlucHV0TGlzdCxcbiAgICBidXR0b25FbGVtZW50LFxuICAgIGZvcm1FbGVtZW50XG4gICkge1xuICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCwgZm9ybUVsZW1lbnQpO1xuICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbGVtZW50KTtcbiAgICB9KTtcbiAgfVxuXG4gIF9nZXRTdWJtaXQoKSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gSXRlcmEgdG9kb3MgbG9zIGZvcm11bGFyaW9zIHkgbGVzIGHDsWFkZSBsb3MgZXZlbnRvc1xuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2dldFN1Ym1pdCgpO1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsIi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGVsZW1lbnRvcyBvYnRlbmlkb3MgZGVsIGRvbSovXG5jb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVcIik7XG5leHBvcnQgY29uc3QgY29udGFpbmVyUHJvZmlsZSA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2NvbnRhaW5lclwiKTtcbmV4cG9ydCBjb25zdCBkYXRhUHJvZmlsZSA9IGNvbnRhaW5lclByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19kYXRhXCIpO1xuXG5jb25zdCBtYWluQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluXCIpO1xuZXhwb3J0IGNvbnN0IGdhbGxlcnlDb250ZW50ID0gbWFpbkNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlcIik7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGFicmUgcG9wdXAgcGFyYSBhZ3JlZ2FyIGltYWdlbmVzIG51ZXZhcyovXG5leHBvcnQgY29uc3QgcG9wdXBTaG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1zaG93XCIpO1xuY29uc3QgcG9wdXBQaWNDb250ID0gcG9wdXBTaG93LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtc2hvd19fY29udGFpbmVyXCIpO1xuZXhwb3J0IGNvbnN0IGJ0bkNsb3NlUGljUG9wID0gcG9wdXBQaWNDb250LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtc2hvd19fY2xvc2VcIik7XG5leHBvcnQgY29uc3QgcG9wdXBQaWNJbWFnZSA9IHBvcHVwUGljQ29udC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLXNob3dfX2FkZFwiKTtcbmV4cG9ydCBjb25zdCBwb3B1cFBpY1RpdGxlID0gcG9wdXBQaWNDb250LnF1ZXJ5U2VsZWN0b3IoXG4gIFwiLnBvcHVwLXNob3dfX3RpdGxlLWNyZWF0ZVwiXG4pO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBhYnJlIHBvcHVwIHBhcmEgY29uZmlybWFyIGVsaW1pbmFjaW9uIGRlIGltYWdlbiovXG5leHBvcnQgY29uc3QgYnRuUmVtb3ZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjbG9zZS1kZWxldGVcIik7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHBvcHVwIGVkaWNpb24qL1xuZXhwb3J0IGNvbnN0IGJ0RWRpdCA9IGRhdGFQcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1kYXRhXCIpO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBjZXJyYXIgdmVudGFuYSBlbWVyZ2VudGUgZGVsIHBvcHVwIGRlIGVkaWNpb24gcGVyZmlsIGRlc2RlIGJvdG9uIFwiWFwiKi9cbmV4cG9ydCBjb25zdCBidENsb3NlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjbG9zZS1wcm9maWxlXCIpO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBhYnJpciB2ZW50YW5hIGVtZXJnZW50ZSBkZWwgcG9wdXAgZGUgZWRpY2lvbiBwZXJmaWwqL1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVEZXNjID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19mYWNlLWltYWdlXCIpO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBwb3B1cCBjYXJkIG51ZXZhKi9cbmV4cG9ydCBjb25zdCBidEFkZCA9IGNvbnRhaW5lclByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtcGljdHVyZVwiKTtcbmV4cG9ydCBjb25zdCBuYW1lTmV3Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXQtbmFtZVwiKTtcbmV4cG9ydCBjb25zdCBqb2JOZXdDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbnB1dC1kZXNjXCIpO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBjZXJyYXIgdmVudGFuYSBlbWVyZ2VudGUgZGVsIHBvcHVwIGRlIGNhcmQgbnVldmEgZGVzZGUgYm90b24gXCJYXCIqL1xuZXhwb3J0IGNvbnN0IGJ0Q2xvc2VDYXJkTmV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjbG9zZS1jYXJkXCIpO1xuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBpbWFnZW4gcXVlIGVqZWN1dGEgbGEgZWRpY2lvbiBkZSBhdmF0YXIqL1xuZXhwb3J0IGNvbnN0IGltYWdlUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW1hZ2UtY29udGVudFwiKTtcbmV4cG9ydCBjb25zdCBidG5DbG9zZUNoYW5nZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2xvc2UtY2hhbmdlXCIpO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICAvL2FicmUgbGEgdmVudGFuYSBlbWVyZ2VudGVcclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9nZW5lcmF0ZVwiKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIC8vY2llcnJhIGxhIHZlbnRhbmEgZW1lcmdlbnRlXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX2dlbmVyYXRlXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgLy9BbCBwcmVzaW9uYXIgbGEgdGVjbGEgXCJFc2NhcGVcIiwgc2UgY2llcnJhIGxhIHZlbnRhbmEgZW1lcmdlbnRlXHJcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy9BbCByZWFsaXphciBjbGljayBmdWVyYSBkZSBsYSB2ZW50YW5hIGVtZXJnZW50ZSwgc2UgY2llcnJhXHJcbiAgaGFuZGxlQ2xpY2tPdXRzaWRlKGV2dCkge1xyXG4gICAgaWYgKGV2dC50YXJnZXQgPT09IHRoaXMuX3BvcHVwRWxlbWVudCkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvL0RldGVjdG9yIGRlIGV2ZW50b3NcclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgICB0aGlzLmhhbmRsZUNsaWNrT3V0c2lkZShldnQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19pbnB1dFwiKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9idG5MaXN0ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uXCIpO1xuICB9XG5cbiAgLy9jaWVycmEgbGEgdmVudGFuYSBlbWVyZ2VudGUgeSBsaW1waWEgbG9zIGNhbXBvcyBkZWwgZm9ybXVsYXJpb1xuICBjbG9zZSgpIHtcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LnJlc2V0KCk7XG4gIH1cbiAgLy9yZWNvcGlsYSBkYXRvcyBkZSB0b2RvcyBsb3MgY2FtcG9zIGRlIGVudHJhZGFcbiAgZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5mb3JtVmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLmZvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLmZvcm1WYWx1ZXM7XG4gIH1cblxuICBvcmlnaW5hbEJ1dHRvbigpIHtcbiAgICB0aGlzLl9idG5MaXN0LnRleHRDb250ZW50ID0gXCJHdWFyZGFyXCI7XG4gIH1cblxuICBfY2hhbmdlc0J1dHRvbigpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9LCAxMDAwKTtcbiAgICAgIHRoaXMuX2J0bkxpc3QudGV4dENvbnRlbnQgPSBcIkd1YXJkYW5kby4uLlwiO1xuICAgIH0pO1xuICB9XG5cbiAgLy9EZXRlY3RvciBkZSBldmVudG9zXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5nZXRJbnB1dFZhbHVlcygpKTtcbiAgICAgIHRoaXMuX2NoYW5nZXNCdXR0b24oKS50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICB9XG5cbiAgLy9Ub21hIHVuIGVsZW1lbnRvIGRlbCBET00geSBsbyBhZ3JlZ2EgYWwgY29udGVuZWRvclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xuICB9XG5cbiAgLy9MaW1waWEgZWwgY29udGVuZWRvclxuICBjbGVhcigpIHtcbiAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgfVxuXG4gIC8vUmVuZGVyaXphIHRvZG9zIGxvcyBlbGVtZW50b3MgZW4gbGEgcMOhZ2luYVxuICByZW5kZXJlcigpIHtcbiAgICB0aGlzLmNsZWFyKCk7XG5cbiAgICB0aGlzLl9yZW5kZXJlZEl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZVNlbGVjdG9yLCBqb2JTZWxlY3RvciwgYXZhdGFyU2VsZWN0b3IsIGlkIH0pIHtcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX2pvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioam9iU2VsZWN0b3IpO1xuICAgIHRoaXMuYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3Rvcik7XG4gICAgdGhpcy5fdXNlcklkID0gaWQ7XG4gIH1cblxuICAvLyBEZXZ1ZWx2ZSB1biBvYmpldG8gY29uIGxvcyBkYXRvcyBkZWwgdXN1YXJpb1xuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcbiAgICAgIGpvYjogdGhpcy5fam9iLnRleHRDb250ZW50LFxuICAgICAgYXZhdGFyOiB0aGlzLmF2YXRhci5zcmMsXG4gICAgICBfaWQ6IHRoaXMuX3VzZXJJZCxcbiAgICB9O1xuICB9XG5cbiAgLy8gRXN0YWJsZWNlIGxvcyBkYXRvcyBkZWwgdXN1YXJpb1xuICBzZXRVc2VySW5mbyhkYXRhKSB7XG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9qb2IudGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xuICAgIHRoaXMuYXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xuICAgIHRoaXMuX3VzZXJJZCA9IGRhdGEuX2lkO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSwgcG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2NhcmQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1zaG93X19jb250YWluZXJcIik7XHJcbiAgfVxyXG5cclxuICBfc2V0UHJvcGVydGllcygpIHtcclxuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLXNob3dfX2FkZFwiKTtcclxuICAgIHRoaXMuX3RpdGxlID0gdGhpcy5fY2FyZC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLXNob3dfX3RpdGxlLWNyZWF0ZVwiKTtcclxuXHJcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX3RpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcclxuICB9XHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fc2V0UHJvcGVydGllcygpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy5iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xuICAgIHRoaXMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgfVxuXG4gIGhhbmRsZVByb21pc2UocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICAgIC8vIHNpIGVsIHNlcnZpZG9yIGRldnVlbHZlIHVuIGVycm9yLCByZWNoYXphIGVsIHByb21pc2VcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICAvKiBvYnRpZW5lIGxhcyBjYXJ0YXMgZGUgbGEgQVBJICovXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVQcm9taXNlKHJlcyk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTsgLy8gcmVnaXN0cmEgZWwgZXJyb3IgZW4gbGEgY29uc29sYVxuICAgICAgfSk7XG4gIH1cblxuICAvKiBPYnRpZW5lIGxhIGluZm9ybWFjacOzbiBkZWwgcGVyZmlsIGRlIGxhIEFQSSAqL1xuICBnZXRQcm9maWxlSW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVQcm9taXNlKHJlcyk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTsgLy8gcmVnaXN0cmEgZWwgZXJyb3IgZW4gbGEgY29uc29sYVxuICAgICAgfSk7XG4gIH1cblxuICAvKiBNb2RpZmljYSBsYSBpbmZvcm1hY2nDs24gZGVsIHBlcmZpbCBkZSBsYSBBUEkgKi9cbiAgZWRpdFByb2ZpbGUocHJvZmlsZSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IHByb2ZpbGUubmFtZSxcbiAgICAgICAgYWJvdXQ6IHByb2ZpbGUuYWJvdXQsXG4gICAgICB9KSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVQcm9taXNlKHJlcyk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTsgLy8gcmVnaXN0cmEgZWwgZXJyb3IgZW4gbGEgY29uc29sYVxuICAgICAgfSk7XG4gIH1cblxuICAvKiBBZ3JlZ2EgY2FydGFzICovXG4gIGFkZENhcmRzKGNhcmQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGNhcmQubmFtZSxcbiAgICAgICAgbGluazogY2FyZC5saW5rLFxuICAgICAgfSksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlUHJvbWlzZShyZXMpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vIHJlZ2lzdHJhIGVsIGVycm9yIGVuIGxhIGNvbnNvbGFcbiAgICAgIH0pO1xuICB9XG5cbiAgLyogRWxpbWluYSBjYXJ0YXMgKi9cbiAgcmVtb3ZlQ2FyZHMoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhbmRsZVByb21pc2UocmVzKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyByZWdpc3RyYSBlbCBlcnJvciBlbiBsYSBjb25zb2xhXG4gICAgICB9KTtcbiAgfVxuXG4gIC8qIEFncmVnYSBsaWtlcyAqL1xuICBhZGRMaWtlKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVQcm9taXNlKHJlcyk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTsgLy8gcmVnaXN0cmEgZWwgZXJyb3IgZW4gbGEgY29uc29sYVxuICAgICAgfSk7XG4gIH1cblxuICAvKiBFbGltaW5hIGxpa2VzICovXG4gIGRlbGV0ZUxpa2UoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxuICAgIH0pXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhbmRsZVByb21pc2UocmVzKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpOyAvLyByZWdpc3RyYSBlbCBlcnJvciBlbiBsYSBjb25zb2xhXG4gICAgICB9KTtcbiAgfVxuXG4gIC8qIE1vZGlmaWNhIGVsIGF2YXRhciAqL1xuICBlZGl0UHJvZmlsZUF2YXRhcihhdmF0YXIpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyOiBhdmF0YXIudXJsLFxuICAgICAgfSksXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlUHJvbWlzZShyZXMpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7IC8vIHJlZ2lzdHJhIGVsIGVycm9yIGVuIGxhIGNvbnNvbGFcbiAgICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9idG5MaXN0ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fYnV0dG9uXCIpO1xuICB9XG5cbiAgb3BlbihpZCkge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICB0aGlzLl9pZCA9IGlkO1xuICB9XG5cbiAgc2V0SGFuZGxlU3VibWl0KGhhbmRsZUZvcm1BY3Rpb24pIHtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybUFjdGlvbjtcbiAgfVxuXG4gIG9yaWdpbmFsQnV0dG9uKCkge1xuICAgIHRoaXMuX2J0bkxpc3QudGV4dENvbnRlbnQgPSBcIlNpXCI7XG4gIH1cblxuICBfY2hhbmdlc0J1dHRvbigpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9LCAxMDAwKTtcbiAgICAgIHRoaXMuX2J0bkxpc3QudGV4dENvbnRlbnQgPSBcIkJvcnJhbmRvLi4uXCI7XG4gICAgfSk7XG4gIH1cblxuICAvL0RldGVjdG9yIGRlIGV2ZW50b3NcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9pZCk7XG4gICAgICB0aGlzLl9jaGFuZ2VzQnV0dG9uKCkudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IHtcbiAgYnRFZGl0LFxuICBidEFkZCxcbiAgZ2FsbGVyeUNvbnRlbnQsXG4gIGJ0Q2xvc2UsXG4gIGJ0Q2xvc2VDYXJkTmV3LFxuICBwcm9maWxlTmFtZSxcbiAgcHJvZmlsZURlc2MsXG4gIG5hbWVOZXdDYXJkLFxuICBqb2JOZXdDYXJkLFxuICBidG5DbG9zZVBpY1BvcCxcbiAgYnRuUmVtb3ZlLFxuICBpbWFnZVByb2ZpbGUsXG4gIGJ0bkNsb3NlQ2hhbmdlLFxufSBmcm9tIFwiLi91dGlscy5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5pbXBvcnQgaW1hZ2VMb2dvIGZyb20gXCIuLi9pbWFnZXMvbG9nb19oZWFkZXIucG5nXCI7XG5pbXBvcnQgaW1hZ2VQZW5jaWwgZnJvbSBcIi4uL2ltYWdlcy9lZGl0X3Byb2ZpbGUucG5nXCI7XG5pbXBvcnQgaW1hZ2VBZGQgZnJvbSBcIi4uL2ltYWdlcy9hZGRfaWNvbi5wbmdcIjtcbmltcG9ydCBjbG9zZVBvcHVwIGZyb20gXCIuLi9pbWFnZXMvY2xvc2VfaWNvbi5wbmdcIjtcbmltcG9ydCBpbWFnZUVkaXRQZW5jaWwgZnJvbSBcIi4uL2ltYWdlcy9sYXBpei5wbmdcIjtcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzXCI7XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUlNQUdFTkVTIElNUE9SVEFEQVMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlLWxvZ29cIikuc3JjID0gaW1hZ2VMb2dvO1xuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbWFnZS1wZW5jaWxcIikuc3JjID0gaW1hZ2VQZW5jaWw7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlLWFkZFwiKS5zcmMgPSBpbWFnZUFkZDtcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2xvc2UtcHJvZmlsZVwiKS5zcmMgPSBjbG9zZVBvcHVwO1xuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjbG9zZS1jYXJkXCIpLnNyYyA9IGNsb3NlUG9wdXA7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Nsb3NlLXNob3dcIikuc3JjID0gY2xvc2VQb3B1cDtcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2xvc2UtZGVsZXRlXCIpLnNyYyA9IGNsb3NlUG9wdXA7XG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Nsb3NlLWNoYW5nZVwiKS5zcmMgPSBjbG9zZVBvcHVwO1xuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbWFnZS1lZGl0LXBlbmNpbFwiKS5zcmMgPSBpbWFnZUVkaXRQZW5jaWw7XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1BUEktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL3dlYl9lc18xMVwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCJmMmQ1Yjc0Yy1jNjI2LTQwMzgtYjI3NS1iMjAwZDM2NTgyYjVcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS1QRVJGSUwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XG4gIG5hbWVTZWxlY3RvcjogXCIucHJvZmlsZV9fbmFtZVwiLFxuICBqb2JTZWxlY3RvcjogXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIixcbiAgYXZhdGFyU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2ZhY2UtaW1hZ2VcIixcbiAgaWQ6IFwiXCIsXG59KTtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tQVBJIENBUkdBIFBFUkZJTC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmFwaS5nZXRQcm9maWxlSW5mbygpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXN1bHQpO1xufSk7XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUZVTkNJT05FUyBERSBUQVJKRVRBUy0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljayhuYW1lLCBsaW5rKSB7XG4gIGNvbnN0IHBvcHVwSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoeyBuYW1lLCBsaW5rIH0sIFwiI3BvcHVwLXNob3dfaWRcIik7XG4gIC8vYWJyZSBpbWFnZW4geSB0aXR1bG8gZW4gdmVudGFuYSBlbWVyZ2VudGVcbiAgcG9wdXBJbWFnZS5vcGVuKCk7XG5cbiAgLy9ldmVudG8gcGFyYSBjZXJyYXIgdmVudGFuYSBlbWVyZ2VudGVcbiAgYnRuQ2xvc2VQaWNQb3AuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBwb3B1cEltYWdlLmNsb3NlKCk7XG4gIH0pO1xufVxuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS1HRU5FUkFET1IgREUgVEFSSkVUQVMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5mdW5jdGlvbiBidWlsZEZ1bmN0aW9uc0J5Q2FyZChpdGVtKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICBpdGVtLFxuICAgIHVzZXJJbmZvLl91c2VySWQsXG4gICAgaGFuZGxlQ2FyZENsaWNrLCAvL1BvcHVwIGNvbiBpbWFnZW5cbiAgICAoKSA9PiB7XG4gICAgICAvL1BvcHVwIGRlIGJvcnJhZG8gY2FydGFcbiAgICAgIGNvbnN0IHBvcHVwRGVsZXRlID0gbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbihcIiNwb3B1cC1kZWxldGVcIiwgKCkgPT4ge1xuICAgICAgICBhcGkucmVtb3ZlQ2FyZHMoaXRlbS5faWQpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBwb3B1cERlbGV0ZS5zZXRFdmVudExpc3RlbmVycygpO1xuICAgICAgcG9wdXBEZWxldGUub3BlbihpdGVtLl9pZCk7XG4gICAgICBwb3B1cERlbGV0ZS5vcmlnaW5hbEJ1dHRvbigpO1xuICAgICAgcG9wdXBEZWxldGUuc2V0SGFuZGxlU3VibWl0KChpZCkgPT4ge1xuICAgICAgICBhcGkucmVtb3ZlQ2FyZHMoaWQpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIGNhcmQucmVtb3ZlQ2FyZCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgYnRuUmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICAgIHBvcHVwRGVsZXRlLmNsb3NlKCk7XG4gICAgICB9KTtcbiAgICB9LFxuICAgIChpZCkgPT4ge1xuICAgICAgLy9BZ3JlZ2EgZGUgbGlrZXNcbiAgICAgIGFwaS5hZGRMaWtlKGlkKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgY2FyZC5sb2FkTGlrZXMocmVzdWx0Lmxpa2VzKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgKGlkKSA9PiB7XG4gICAgICAvL0VsaW1pbmEgbGlrZXNcbiAgICAgIGFwaS5kZWxldGVMaWtlKGlkKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgY2FyZC5sb2FkTGlrZXMocmVzdWx0Lmxpa2VzKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgKTtcbiAgcmV0dXJuIGNhcmQ7XG59XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUFQSSBDQVJHQSBUT0RBUyBMQVMgVEFSSkVUQVMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5hcGkuZ2V0SW5pdGlhbENhcmRzKCkudGhlbigocmVzdWx0KSA9PiB7XG4gIGNvbnN0IGRlZmF1bHRDYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxuICAgIHtcbiAgICAgIGl0ZW1zOiByZXN1bHQsXG4gICAgICByZW5kZXJlcjogKGl0ZW0pID0+IHtcbiAgICAgICAgY29uc3QgY2FyZCA9IGJ1aWxkRnVuY3Rpb25zQnlDYXJkKGl0ZW0pO1xuICAgICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG4gICAgICAgIGRlZmF1bHRDYXJkTGlzdC5hZGRJdGVtKGNhcmRFbGVtZW50KTtcbiAgICAgIH0sXG4gICAgfSxcbiAgICBcIi5nYWxsZXJ5XCJcbiAgKTtcblxuICBkZWZhdWx0Q2FyZExpc3QucmVuZGVyZXIoKTtcbn0pO1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS1QT1BVUCBBVkFUQVItLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5jb25zdCBwb3B1cEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI3BvcHVwLWNoYW5nZVwiLCAoaW5wdXRzKSA9PiB7XG4gIGFwaS5lZGl0UHJvZmlsZUF2YXRhcihpbnB1dHMpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgIHVzZXJJbmZvLmF2YXRhci5zcmMgPSByZXN1bHQuYXZhdGFyO1xuICB9KTtcbn0pO1xuXG4vL2dlbmVyYWRvciBkZSBldmVudG9zXG5wb3B1cEF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vL2V2ZW50byBwYXJhIGFicmlyIHZlbnRhbmEgZW1lcmdlbnRlXG5pbWFnZVByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgcG9wdXBBdmF0YXIub3BlbigpO1xuICBwb3B1cEF2YXRhci5vcmlnaW5hbEJ1dHRvbigpO1xufSk7XG5cbi8vZXZlbnRvIHBhcmEgY2VycmFyIHZlbnRhbmEgZW1lcmdlbnRlXG5idG5DbG9zZUNoYW5nZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwb3B1cEF2YXRhci5jbG9zZSgpO1xufSk7XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVBPUFVQIFBFUkZJTC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmNvbnN0IHBvcHVwUHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI3BvcHVwLXByb2ZpbGVcIiwgKGlucHV0cykgPT4ge1xuICBhcGkuZWRpdFByb2ZpbGUoaW5wdXRzKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IHJlc3VsdC5uYW1lO1xuICAgIHByb2ZpbGVEZXNjLnRleHRDb250ZW50ID0gcmVzdWx0LmFib3V0O1xuICB9KTtcbiAgLy9cbn0pO1xuXG4vL2dlbmVyYWRvciBkZSBldmVudG9zXG5wb3B1cFByb2ZpbGUuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy9ldmVudG8gcGFyYSBhYnJpciB2ZW50YW5hIGVtZXJnZW50ZVxuYnRFZGl0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIHBvcHVwUHJvZmlsZS5vcGVuKCk7XG4gIHBvcHVwUHJvZmlsZS5vcmlnaW5hbEJ1dHRvbigpO1xuICBjb25zdCB1cyA9IHVzZXJJbmZvLmdldFVzZXJJbmZvKCk7XG4gIG5hbWVOZXdDYXJkLnZhbHVlID0gdXMubmFtZTtcbiAgam9iTmV3Q2FyZC52YWx1ZSA9IHVzLmpvYjtcbn0pO1xuXG4vL2V2ZW50byBwYXJhIGNlcnJhciB2ZW50YW5hIGVtZXJnZW50ZVxuYnRDbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwb3B1cFByb2ZpbGUuY2xvc2UoKTtcbn0pO1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS1QT1BVUCBOVUVWQSBDQVJUQS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmNvbnN0IHBvcHVwQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI3BvcHVwLXBpY3R1cmVcIiwgKGlucHV0cykgPT4ge1xuICBhcGkuYWRkQ2FyZHMoeyBuYW1lOiBpbnB1dHMudGl0bGUsIGxpbms6IGlucHV0cy5saW5rIH0pLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgIGNvbnN0IG5ld2NhcmQgPSBidWlsZEZ1bmN0aW9uc0J5Q2FyZChyZXN1bHQpO1xuICAgIGdhbGxlcnlDb250ZW50LnByZXBlbmQobmV3Y2FyZC5nZW5lcmF0ZUNhcmQoKSk7XG4gIH0pO1xufSk7XG5cbi8vZ2VuZXJhZG9yIGRlIGV2ZW50b3NcbnBvcHVwQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vL2V2ZW50byBwYXJhIGFicmlyIHZlbnRhbmEgZW1lcmdlbnRlXG5idEFkZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBwb3B1cENhcmQub3BlbigpO1xuICBwb3B1cENhcmQub3JpZ2luYWxCdXR0b24oKTtcbn0pO1xuXG4vL2V2ZW50byBwYXJhIGNlcnJhciB2ZW50YW5hIGVtZXJnZW50ZVxuYnRDbG9zZUNhcmROZXcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgcG9wdXBDYXJkLmNsb3NlKCk7XG59KTtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tVkFMSURBQ0lPTkVTLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vL1ZhbGlkYWNpw7NuIGRlIGxvcyBjYW1wb3MgZGVsIGZvcm11bGFyaW9cbmNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBvcHVwX19mb3JtXCIpKTtcblxuZm9ybUxpc3QuZm9yRWFjaCgoZm9ybUVsZW1lbnQpID0+IHtcbiAgLy9pdGVyYWNpb24gZGUgZm9ybXVsYXJpb3NcbiAgY29uc3QgdmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gICAge1xuICAgICAgZm9ybVNlbGVjdG9yOiBcIi5wb3B1cF9fZm9ybVwiLFxuICAgICAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXG4gICAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J1dHRvblwiLFxuICAgICAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fYnV0dG9uX2luYWN0aXZlXCIsXG4gICAgICBpbnB1dEVycm9yQ2xhc3M6IFwicG9wdXBfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgICAgIGlucHV0RXJyb3JBY3RpdmU6IFwicG9wdXBfX2lucHV0LWVycm9yX2FjdGl2ZVwiLFxuICAgICAgZXJyb3JDbGFzczogXCIucG9wdXBfX2Vycm9yXCIsXG4gICAgfSxcbiAgICBmb3JtRWxlbWVudFxuICApO1xuICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xufSk7XG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsIkNhcmQiLCJkYXRhIiwidXNlcklkIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlQ2FyZERlbGV0ZSIsImhhbmRsZUNhcmRMaWtlIiwiaGFuZGxlQ2FyZERpc0xpa2UiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2lkIiwiX2xpa2VzIiwibGlrZXMiLCJfb3duZXIiLCJvd25lciIsIl91c2VySWQiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZUNhcmREZWxldGUiLCJfaGFuZGxlQ2FyZExpa2UiLCJfaGFuZGxlQ2FyZERpc2xpa2UiLCJfY2FyZCIsIl9nZXRUZW1wbGF0ZSIsImtleSIsInZhbHVlIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9idG5EZWxldGUiLCJzcmMiLCJpbWFnZVRyYXNoIiwicmVtb3ZlIiwiX2dhbGxlcnlJbWFnZSIsIl9nYWxsZXJ5Q29udCIsIl9nYWxsZXJ5VGl0bGUiLCJfYnRuTGlrZSIsImxpa2VzQ291bnRlciIsImFsdCIsInRleHRDb250ZW50IiwibGVuZ3RoIiwiX3RoaXMiLCJzb21lIiwibGlrZSIsIl90aGlzMiIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJ2YWxpZGF0ZUxpa2UiLCJhZGQiLCJfc2V0UHJvcGVydGllcyIsIl9zZXRFdmVudExpc3RlbmVycyIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImZvcm1FbGVtZW50IiwiX3NldHRpbmdzIiwiX2Zvcm1FbGVtZW50IiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiY29uY2F0IiwiaWQiLCJpbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQWN0aXZlIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiaW5wdXRMaXN0IiwiY29uc29sZSIsImxvZyIsInRyaW0iLCJidXR0b25FbGVtZW50IiwiX2hhc0ludmFsaWRJbnB1dCIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsIl9hZGRFdmVudElucHV0QW5kVmFsaWRhdGUiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJfZ2V0U3VibWl0IiwiY29udGFpbmVyUHJvZmlsZSIsImRhdGFQcm9maWxlIiwiZ2FsbGVyeUNvbnRlbnQiLCJwb3B1cFBpY0NvbnQiLCJidG5DbG9zZVBpY1BvcCIsImJ0blJlbW92ZSIsImJ0RWRpdCIsImJ0Q2xvc2UiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVEZXNjIiwiYnRBZGQiLCJuYW1lTmV3Q2FyZCIsImpvYk5ld0NhcmQiLCJidENsb3NlQ2FyZE5ldyIsImltYWdlUHJvZmlsZSIsImJ0bkNsb3NlQ2hhbmdlIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwRWxlbWVudCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2xvc2UiLCJ0YXJnZXQiLCJoYW5kbGVDbGlja091dHNpZGUiLCJQb3B1cFdpdGhGb3JtIiwiX1BvcHVwIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9jYWxsU3VwZXIiLCJfaW5wdXRMaXN0IiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfYnRuTGlzdCIsIl9pbmhlcml0cyIsIl9nZXQiLCJfZ2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJjYWxsIiwicmVzZXQiLCJmb3JtVmFsdWVzIiwiaW5wdXQiLCJfdGhpczMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJfdGhpczQiLCJnZXRJbnB1dFZhbHVlcyIsIl9jaGFuZ2VzQnV0dG9uIiwidGhlbiIsIlNlY3Rpb24iLCJfcmVmIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX3JlbmRlcmVkSXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiZWxlbWVudCIsImFwcGVuZCIsImlubmVySFRNTCIsImNsZWFyIiwiaXRlbSIsIlVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9qb2IiLCJhdmF0YXIiLCJqb2IiLCJhYm91dCIsIlBvcHVwV2l0aEltYWdlIiwiX2ltYWdlIiwiX3RpdGxlIiwiQXBpIiwib3B0aW9ucyIsImJhc2VVcmwiLCJoZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJtZXRob2QiLCJoYW5kbGVQcm9taXNlIiwiY2F0Y2giLCJlcnIiLCJwcm9maWxlIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkIiwiY2FyZElkIiwiX3RoaXM1IiwiX3RoaXM2IiwiX3RoaXM3IiwiX3RoaXM4IiwidXJsIiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwiaGFuZGxlRm9ybUFjdGlvbiIsImltYWdlTG9nbyIsImltYWdlUGVuY2lsIiwiaW1hZ2VBZGQiLCJjbG9zZVBvcHVwIiwiaW1hZ2VFZGl0UGVuY2lsIiwiYXBpIiwiYXV0aG9yaXphdGlvbiIsInVzZXJJbmZvIiwicG9wdXBJbWFnZSIsIm9wZW4iLCJidWlsZEZ1bmN0aW9uc0J5Q2FyZCIsInBvcHVwRGVsZXRlIiwicmVtb3ZlQ2FyZHMiLCJyZXN1bHQiLCJzZXRFdmVudExpc3RlbmVycyIsIm9yaWdpbmFsQnV0dG9uIiwic2V0SGFuZGxlU3VibWl0IiwicmVtb3ZlQ2FyZCIsImFkZExpa2UiLCJsb2FkTGlrZXMiLCJkZWxldGVMaWtlIiwiZ2V0UHJvZmlsZUluZm8iLCJzZXRVc2VySW5mbyIsImdldEluaXRpYWxDYXJkcyIsImRlZmF1bHRDYXJkTGlzdCIsImNhcmRFbGVtZW50IiwiZ2VuZXJhdGVDYXJkIiwiYWRkSXRlbSIsInBvcHVwQXZhdGFyIiwiaW5wdXRzIiwiZWRpdFByb2ZpbGVBdmF0YXIiLCJwb3B1cFByb2ZpbGUiLCJlZGl0UHJvZmlsZSIsInVzIiwiZ2V0VXNlckluZm8iLCJwb3B1cENhcmQiLCJhZGRDYXJkcyIsInRpdGxlIiwibmV3Y2FyZCIsInByZXBlbmQiLCJmb3JtU2VsZWN0b3IiLCJlcnJvckNsYXNzIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=